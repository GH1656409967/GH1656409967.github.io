[{"title":"【配置】Hexo以及NexT8主题的配置","url":"/109c3806466b/","content":"<h2 id=\"安装next-v8.0\">1 安装NexT v8.0</h2>\r\n<p>打开命令行，进入博客根目录，更新npm，安装<code>hexo-theme-next</code>，NexT\r\nv8.0主题</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 更新npm</span></span><br><span class=\"line\">npm i -g npm@latest</span><br><span class=\"line\"><span class=\"comment\"># 换国内源</span></span><br><span class=\"line\">npm config <span class=\"built_in\">set</span> registry https://registry.npm.taobao.org</span><br><span class=\"line\"><span class=\"comment\"># 查看配置</span></span><br><span class=\"line\">npm config list</span><br><span class=\"line\"><span class=\"comment\"># 安装NexT主题</span></span><br><span class=\"line\">npm i hexo-theme-next --save</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/109c3806466b/安装NexT.png\" alt=\"安装NexT\">\r\n<figcaption aria-hidden=\"true\">安装NexT</figcaption>\r\n</figure>\r\n<p>然后修改博客根目录下的<code>_config.yml</code>配置文件，将主题设置为NexT</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">next</span></span><br></pre></td></tr></table></figure>\r\n<p>然后重新生成一下博客，打开本地服务</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 清除缓存</span></span><br><span class=\"line\">hexo clean</span><br><span class=\"line\"><span class=\"comment\"># 生成静态文件</span></span><br><span class=\"line\">hexo generate</span><br><span class=\"line\"><span class=\"comment\"># 启动服务（开启调试）</span></span><br><span class=\"line\">hexo server --debug</span><br></pre></td></tr></table></figure>\r\n<p>访问<a href=\"http://localhost:4000/\" class=\"uri\">http://localhost:4000/</a>，查看效果</p>\r\n<h2 id=\"配置修改\">2 配置修改</h2>\r\n<h3 id=\"博客配置\">2.1 博客配置</h3>\r\n<p>以下配置，需添加至博客根目录下<code>_config.yml</code>中</p>\r\n<h4 id=\"博客信息\">博客信息</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">标题</span></span><br><span class=\"line\"><span class=\"attr\">subtitle:</span> <span class=\"string\">&#x27;子标题&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">&#x27;描述&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">keywords:</span> <span class=\"string\">关键词</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">作者</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"开启中文\">开启中文</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">zh-CN</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"修改文章永久链接\">修改文章永久链接</h4>\r\n<p>文章标题大多使用中文，但是URL并不推荐包含中文，也不利于SEO</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">https://gh1656409967.github.io/</span></span><br><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">:hash/</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"自动检测高亮\">自动检测高亮</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">highlight:</span></span><br><span class=\"line\">  <span class=\"attr\">auto_detect:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">tab_replace:</span> <span class=\"string\">&#x27;    &#x27;</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"显示文章数\">显示文章数</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">index_generator:</span></span><br><span class=\"line\">  <span class=\"attr\">per_page:</span> <span class=\"number\">30</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"每页页码\">每页页码</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">per_page:</span> <span class=\"number\">30</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"默认分类\">默认分类</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">default_category:</span> <span class=\"string\">测试</span></span><br></pre></td></tr></table></figure>\r\n<h3 id=\"主题配置\">2.2 主题配置</h3>\r\n<p>以下配置，需添加至博客根目录下<code>_config.next.yml</code>中</p>\r\n<h4 id=\"切换布局方案\">切换布局方案</h4>\r\n<p>NexT提供<code>Muse</code>、<code>Mist</code>、<code>Pisces</code>和<code>Gemini</code>四种布局方案。</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">scheme:</span> <span class=\"string\">Pisces</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"添加子标题\">添加子标题</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">index_with_subtitle:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"关闭页面底部博客信息\">关闭页面底部博客信息</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">footer:</span></span><br><span class=\"line\">  <span class=\"attr\">powered:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"添加自定义menu菜单\">添加自定义menu菜单</h4>\r\n<ol type=\"1\">\r\n<li>格式为 <code>Key: /link || icon</code> ，icon即为 <a href=\"https://fontawesome.com/icons\">Font Awesome</a>提供的图标。</li>\r\n<li>修改主题目录下<code>languages/zh-CN.yml</code>，在menu下添加对应菜单的中文，例如<code>gallery: 相册</code>，注意统一缩进。</li>\r\n<li>在博客根目录，运行 <code>hexo new page \"菜单\"</code>，编辑新建的\r\n<code>source/菜单/index.md</code> 即可。</li>\r\n</ol>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\">  <span class=\"attr\">about:</span> <span class=\"string\">/about/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-user</span></span><br><span class=\"line\">  <span class=\"attr\">gallery:</span> <span class=\"string\">/gallery/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-camera</span></span><br><span class=\"line\">  <span class=\"attr\">book:</span> <span class=\"string\">/books/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-book</span></span><br><span class=\"line\">  <span class=\"attr\">movie:</span> <span class=\"string\">/movies/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-film</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"添加社交链接\">添加社交链接</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">social:</span></span><br><span class=\"line\">  <span class=\"attr\">GitHub:</span> <span class=\"string\">https://github.com/GH1656409967</span> <span class=\"string\">||</span> <span class=\"string\">fa-brands</span> <span class=\"string\">fa-github</span></span><br><span class=\"line\">  <span class=\"attr\">QQ:</span> <span class=\"string\">http://wpa.qq.com/msgrd?v=3&amp;uin=1656409967&amp;site=qq&amp;menu=yes</span> <span class=\"string\">||</span> <span class=\"string\">fa-brands</span> <span class=\"string\">fa-qq</span></span><br><span class=\"line\">  <span class=\"string\">网易云:</span> <span class=\"string\">https://music.163.com/#/user/home?id=270121274</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-music</span></span><br><span class=\"line\">  <span class=\"string\">豆瓣:</span> <span class=\"string\">https://www.douban.com/people/215985894/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-video-camera</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"添加友链\">添加友链</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">links_settings:</span></span><br><span class=\"line\">  <span class=\"attr\">icon:</span> <span class=\"string\">fa</span> <span class=\"string\">fa-link</span></span><br><span class=\"line\">  <span class=\"attr\">title:</span> <span class=\"string\">友情链接</span></span><br><span class=\"line\">  <span class=\"attr\">layout:</span> <span class=\"string\">inline</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">links:</span></span><br><span class=\"line\">  <span class=\"string\">【jaihk662】:</span> <span class=\"string\">https://blog.csdn.net/jaihk662</span></span><br><span class=\"line\">  <span class=\"string\">【信仰.】:</span> <span class=\"string\">https://blog.csdn.net/haut_ykc</span></span><br><span class=\"line\">  <span class=\"string\">【SSimpLe_Y】:</span> <span class=\"string\">https://blog.csdn.net/ssimple_y</span></span><br><span class=\"line\">  <span class=\"string\">【柳婼のblog】:</span> <span class=\"string\">https://www.liuchuo.net/</span></span><br><span class=\"line\">  <span class=\"string\">【liweihang】:</span> <span class=\"string\">https://www.cnblogs.com/liweihang/</span></span><br><span class=\"line\">  <span class=\"string\">【ironz】:</span> <span class=\"string\">https://ironz.cn/</span></span><br><span class=\"line\">  <span class=\"string\">【Sysipus】:</span> <span class=\"string\">https://runzhaochen.github.io/</span></span><br><span class=\"line\">  <span class=\"string\">【Long_hen】:</span> <span class=\"string\">https://blog.csdn.net/Long_hen</span></span><br><span class=\"line\">  <span class=\"string\">【haut_bao】:</span> <span class=\"string\">https://blog.csdn.net/qq_41856950</span></span><br><span class=\"line\">  <span class=\"string\">【阿清そ</span> <span class=\"string\">】:</span> <span class=\"string\">https://aqingya.cn/</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"目录设置\">目录设置</h4>\r\n<p>开启目录，关闭目录自动编号，开启目录自动换行，关闭全部展开</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">toc:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">number:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">wrap:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">expand_all:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"开启文章结尾版权声明\">开启文章结尾版权声明</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">creative_commons:</span></span><br><span class=\"line\">  <span class=\"attr\">post:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"文章结尾打赏\">文章结尾打赏</h4>\r\n<p>添加文章结尾打赏图片，图片放至主题目录的<code>source/images/</code>下</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">reward_settings:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">animation:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">reward:</span></span><br><span class=\"line\">  <span class=\"attr\">wechatpay:</span> <span class=\"string\">/images/wechatpay.png</span></span><br><span class=\"line\">  <span class=\"attr\">alipay:</span> <span class=\"string\">/images/thanks.png</span></span><br><span class=\"line\">  <span class=\"attr\">bitcoin:</span> <span class=\"string\">/images/alipay.png</span></span><br></pre></td></tr></table></figure>\r\n<p>修改<code>themes/next/languages/zh-CN.yml</code>，文字与图片对应</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">reward:</span></span><br><span class=\"line\">  <span class=\"attr\">wechatpay:</span> <span class=\"string\">微信</span></span><br><span class=\"line\">  <span class=\"attr\">alipay:</span> <span class=\"string\">感谢</span></span><br><span class=\"line\">  <span class=\"attr\">bitcoin:</span> <span class=\"string\">支付宝</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"头像\">头像</h4>\r\n<p>图片放至主题目录的<code>source/images/</code>下</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">avatar:</span></span><br><span class=\"line\">  <span class=\"attr\">url:</span> <span class=\"string\">/images/avatar.png</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"网站图标\">网站图标</h4>\r\n<p>图片放至主题目录的<code>source/images/</code>下</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">favicon:</span></span><br><span class=\"line\">  <span class=\"attr\">small:</span> <span class=\"string\">/images/favicon-16x16-.png</span></span><br><span class=\"line\">  <span class=\"attr\">medium:</span> <span class=\"string\">/images/favicon-32x32-.png</span></span><br></pre></td></tr></table></figure>\r\n<h4 id=\"设置字体\">设置字体</h4>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">font:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Uri of fonts host, e.g. https://fonts.googleapis.com (Default).</span></span><br><span class=\"line\">  <span class=\"attr\">host:</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Font options:</span></span><br><span class=\"line\">  <span class=\"comment\"># `external: true` will load this font family from `host` above.</span></span><br><span class=\"line\">  <span class=\"comment\"># `family: Times New Roman`. Without any quotes.</span></span><br><span class=\"line\">  <span class=\"comment\"># `size: x.x`. Use `em` as unit. Default: 1 (16px)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Global font settings used for all elements inside &lt;body&gt;.</span></span><br><span class=\"line\">  <span class=\"attr\">global:</span></span><br><span class=\"line\">    <span class=\"attr\">external:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">family:</span> <span class=\"string\">&#x27;Fira Code,Noto Sans SC&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">size:</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Font settings for site title (.site-title).</span></span><br><span class=\"line\">  <span class=\"attr\">title:</span></span><br><span class=\"line\">    <span class=\"attr\">external:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">family:</span> <span class=\"string\">&#x27;Fira Code,Noto Sans SC&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">size:</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Font settings for headlines (&lt;h1&gt; to &lt;h6&gt;).</span></span><br><span class=\"line\">  <span class=\"attr\">headings:</span></span><br><span class=\"line\">    <span class=\"attr\">external:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">family:</span> <span class=\"string\">&#x27;Fira Code,Noto Sans SC&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">size:</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Font settings for posts (.post-body).</span></span><br><span class=\"line\">  <span class=\"attr\">posts:</span></span><br><span class=\"line\">    <span class=\"attr\">external:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">family:</span> <span class=\"string\">&#x27;Fira Code,Noto Sans SC&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\"># Font settings for &lt;code&gt; and code blocks.</span></span><br><span class=\"line\">  <span class=\"attr\">codes:</span></span><br><span class=\"line\">    <span class=\"attr\">external:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"attr\">family:</span> <span class=\"string\">&#x27;Fira Code,Noto Sans SC&#x27;</span></span><br></pre></td></tr></table></figure>\r\n<h2 id=\"功能添加\">3 功能添加</h2>\r\n<h3 id=\"图片不显示\">3.1 图片不显示</h3>\r\n<blockquote>\r\n<p>此处仅处理本地图片引用，不考虑使用图床的情况</p>\r\n</blockquote>\r\n<p>从之前生成的静态文件中，可以看到图片未上传至<code>public</code>目录，且图片路径是markdown源文件中的绝对路径，而不是相对路径。</p>\r\n<p>首先修改博客根目录<code>_config.yml</code>配置文件，开启上传资源文件夹</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">post_asset_folder:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\r\n<p>然后需要安装一个图片路径转换插件，打开命令行，进入博客根目录，执行以下命令</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i hexo-asset-image --save</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/109c3806466b/图片路径转换插件.png\" alt=\"图片路径转换插件\">\r\n<figcaption aria-hidden=\"true\">图片路径转换插件</figcaption>\r\n</figure>\r\n<p>修改此插件源码<code>/node_modules/hexo-asset-image/index.js</code>，修改内容参看注释</p>\r\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>(config.<span class=\"property\">post_asset_folder</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> link = data.<span class=\"property\">permalink</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> beginPos = <span class=\"title function_\">getPosition</span>(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">3</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">/* 注释以下内容</span></span><br><span class=\"line\"><span class=\"comment\">  var appendLink = &#x27;&#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">  // In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span></span><br><span class=\"line\"><span class=\"comment\">  // if not with index.html endpos = link.lastIndexOf(&#x27;.&#x27;) + 1 support hexo-abbrlink</span></span><br><span class=\"line\"><span class=\"comment\">  if(/.*\\/index\\.html$/.test(link)) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    // when permalink is end with index.html, for example 2019/02/20/xxtitle/index.html</span></span><br><span class=\"line\"><span class=\"comment\">    // image in xxtitle/ will go to xxtitle/index/</span></span><br><span class=\"line\"><span class=\"comment\">    appendLink = &#x27;index/&#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">    var endPos = link.lastIndexOf(&#x27;/&#x27;);</span></span><br><span class=\"line\"><span class=\"comment\">  &#125;</span></span><br><span class=\"line\"><span class=\"comment\">  else &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    var endPos = link.lastIndexOf(&#x27;.&#x27;);</span></span><br><span class=\"line\"><span class=\"comment\">  &#125;</span></span><br><span class=\"line\"><span class=\"comment\">  link = link.substring(beginPos, endPos) + &#x27;/&#x27; + appendLink;</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"comment\">/* 修改为下面两行 */</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> endPos = link.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;/&#x27;</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  link = link.<span class=\"title function_\">substring</span>(beginPos, endPos);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> toprocess = [<span class=\"string\">&#x27;excerpt&#x27;</span>, <span class=\"string\">&#x27;more&#x27;</span>, <span class=\"string\">&#x27;content&#x27;</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 将所有&#x27;src&#x27;替换为&#x27;data-src&#x27;</span></span><br><span class=\"line\">    $(<span class=\"string\">&#x27;img&#x27;</span>).<span class=\"title function_\">each</span>(<span class=\"keyword\">function</span>(<span class=\"params\"></span>)&#123;</span><br><span class=\"line\">      <span class=\"keyword\">if</span> ($(<span class=\"variable language_\">this</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;data-src&#x27;</span>))&#123;</span><br><span class=\"line\">        <span class=\"comment\">// For windows style path, we replace &#x27;\\&#x27; to &#x27;/&#x27;.</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> src = $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;data-src&#x27;</span>).<span class=\"title function_\">replace</span>(<span class=\"string\">&#x27;\\\\&#x27;</span>, <span class=\"string\">&#x27;/&#x27;</span>);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(!(<span class=\"regexp\">/http[s]*.*|\\/\\/.*/</span>.<span class=\"title function_\">test</span>(src)</span><br><span class=\"line\">          || <span class=\"regexp\">/^\\s+\\//</span>.<span class=\"title function_\">test</span>(src)</span><br><span class=\"line\">          || <span class=\"regexp\">/^\\s*\\/uploads|images\\//</span>.<span class=\"title function_\">test</span>(src))) &#123;</span><br><span class=\"line\">          ...</span><br><span class=\"line\"></span><br><span class=\"line\">          $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;data-src&#x27;</span>, config.<span class=\"property\">root</span> + link + src);</span><br><span class=\"line\">          <span class=\"variable language_\">console</span>.<span class=\"property\">info</span>&amp;&amp;<span class=\"variable language_\">console</span>.<span class=\"title function_\">info</span>(<span class=\"string\">&quot;update link as:--&gt;&quot;</span>+config.<span class=\"property\">root</span> + link + src);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">  ...</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\r\n<p>清除缓存，重新生成博客，打开本地服务，查看效果</p>\r\n<h3 id=\"mathjax\">3.2 MathJax</h3>\r\n<p>使用<a href=\"https://www.mathjax.org/#gettingstarted\">MathJax</a>，开启<a href=\"https://www.latex-project.org/\">LaTeX</a>数学公式支持。首先更换解析器，打开命令行，进入博客根目录，执行以下命令</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 卸载hexo-renderer-marked</span></span><br><span class=\"line\">npm uninstall hexo-renderer-marked --save</span><br><span class=\"line\"><span class=\"comment\"># 安装hexo-renderer-pandoc</span></span><br><span class=\"line\">npm install hexo-renderer-pandoc --save</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/109c3806466b/更换解析器.png\" alt=\"更换解析器\">\r\n<figcaption aria-hidden=\"true\">更换解析器</figcaption>\r\n</figure>\r\n<p>然后安装<a href=\"https://github.com/jgm/pandoc/releases/latest\">Pandoc</a>，并且配置好环境变量。在博客根目录<code>_config.next.yaml</code>中添加</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">math:</span></span><br><span class=\"line\">  <span class=\"attr\">mathjax:</span></span><br><span class=\"line\">    <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\r\n<p>使用时需要在文章的front-matter里打开<code>mathjax: true</code>，简单测试</p>\r\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> x = &#123;-b <span class=\"keyword\">\\pm</span> <span class=\"keyword\">\\sqrt</span>&#123;b<span class=\"built_in\">^</span>2-4ac&#125; <span class=\"keyword\">\\over</span> 2a&#125; <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\r\n<p><span class=\"math display\">\\[ x = {-b \\pm \\sqrt{b^2-4ac} \\over 2a}\r\n\\]</span></p>\r\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> f(a) = <span class=\"keyword\">\\frac</span>&#123;1&#125;&#123;2<span class=\"keyword\">\\pi</span> i&#125; <span class=\"keyword\">\\oint</span><span class=\"keyword\">\\frac</span>&#123;f(z)&#125;&#123;z-a&#125;dz <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\r\n<p><span class=\"math display\">\\[ f(a) = \\frac{1}{2\\pi i}\r\n\\oint\\frac{f(z)}{z-a}dz \\]</span></p>\r\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> <span class=\"keyword\">\\cos</span>(<span class=\"keyword\">\\theta</span>+<span class=\"keyword\">\\phi</span>)=<span class=\"keyword\">\\cos</span>(<span class=\"keyword\">\\theta</span>)<span class=\"keyword\">\\cos</span>(<span class=\"keyword\">\\phi</span>)−<span class=\"keyword\">\\sin</span>(<span class=\"keyword\">\\theta</span>)<span class=\"keyword\">\\sin</span>(<span class=\"keyword\">\\phi</span>) <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\r\n<p><span class=\"math display\">\\[\r\n\\cos(\\theta+\\phi)=\\cos(\\theta)\\cos(\\phi)−\\sin(\\theta)\\sin(\\phi)\r\n\\]</span></p>\r\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> <span class=\"keyword\">\\int</span><span class=\"built_in\">_</span>D (&#123;<span class=\"keyword\">\\nabla</span><span class=\"keyword\">\\cdot</span>&#125; F)dV=<span class=\"keyword\">\\int</span><span class=\"built_in\">_</span>&#123;<span class=\"keyword\">\\partial</span> D&#125; F<span class=\"keyword\">\\cdot</span> ndS <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\r\n<p><span class=\"math display\">\\[ \\int_D ({\\nabla\\cdot}\r\nF)dV=\\int_{\\partial D} F\\cdot ndS \\]</span></p>\r\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br><span class=\"line\"><span class=\"keyword\">\\vec</span>&#123;<span class=\"keyword\">\\nabla</span>&#125; <span class=\"keyword\">\\times</span> <span class=\"keyword\">\\vec</span>&#123;F&#125; =</span><br><span class=\"line\">      <span class=\"keyword\">\\left</span>( <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>z&#125;&#123;<span class=\"keyword\">\\partial</span> y&#125; - <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>y&#125;&#123;<span class=\"keyword\">\\partial</span> z&#125; <span class=\"keyword\">\\right</span>) <span class=\"keyword\">\\mathbf</span>&#123;i&#125;</span><br><span class=\"line\">    + <span class=\"keyword\">\\left</span>( <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>x&#125;&#123;<span class=\"keyword\">\\partial</span> z&#125; - <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>z&#125;&#123;<span class=\"keyword\">\\partial</span> x&#125; <span class=\"keyword\">\\right</span>) <span class=\"keyword\">\\mathbf</span>&#123;j&#125;</span><br><span class=\"line\">    + <span class=\"keyword\">\\left</span>( <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>y&#125;&#123;<span class=\"keyword\">\\partial</span> x&#125; - <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>x&#125;&#123;<span class=\"keyword\">\\partial</span> y&#125; <span class=\"keyword\">\\right</span>) <span class=\"keyword\">\\mathbf</span>&#123;k&#125;</span><br><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\r\n<p><span class=\"math display\">\\[\r\n\\vec{\\nabla} \\times \\vec{F} =\r\n      \\left( \\frac{\\partial F_z}{\\partial y} - \\frac{\\partial\r\nF_y}{\\partial z} \\right) \\mathbf{i}\r\n    + \\left( \\frac{\\partial F_x}{\\partial z} - \\frac{\\partial\r\nF_z}{\\partial x} \\right) \\mathbf{j}\r\n    + \\left( \\frac{\\partial F_y}{\\partial x} - \\frac{\\partial\r\nF_x}{\\partial y} \\right) \\mathbf{k}\r\n\\]</span></p>\r\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> <span class=\"keyword\">\\sigma</span> = <span class=\"keyword\">\\sqrt</span>&#123; <span class=\"keyword\">\\frac</span>&#123;1&#125;&#123;N&#125; <span class=\"keyword\">\\sum</span><span class=\"built_in\">_</span>&#123;i=1&#125;<span class=\"built_in\">^</span>N (x<span class=\"built_in\">_</span>i -<span class=\"keyword\">\\mu</span>)<span class=\"built_in\">^</span>2&#125; <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\r\n<p><span class=\"math display\">\\[ \\sigma = \\sqrt{ \\frac{1}{N}\r\n\\sum_{i=1}^N (x_i -\\mu)^2} \\]</span></p>\r\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br><span class=\"line\">(<span class=\"keyword\">\\nabla</span><span class=\"built_in\">_</span>X Y)<span class=\"built_in\">^</span>k = X<span class=\"built_in\">^</span>i (<span class=\"keyword\">\\nabla</span><span class=\"built_in\">_</span>i Y)<span class=\"built_in\">^</span>k</span><br><span class=\"line\">    = X<span class=\"built_in\">^</span>i <span class=\"keyword\">\\left</span>( <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> Y<span class=\"built_in\">^</span>k&#125;&#123;<span class=\"keyword\">\\partial</span> x<span class=\"built_in\">^</span>i&#125; + <span class=\"keyword\">\\Gamma</span><span class=\"built_in\">_</span>&#123;im&#125;<span class=\"built_in\">^</span>k Y<span class=\"built_in\">^</span>m <span class=\"keyword\">\\right</span>)</span><br><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\r\n<p><span class=\"math display\">\\[\r\n(\\nabla_X Y)^k = X^i (\\nabla_i Y)^k\r\n    = X^i \\left( \\frac{\\partial Y^k}{\\partial x^i} + \\Gamma_{im}^k Y^m\r\n\\right)\r\n\\]</span></p>\r\n<h3 id=\"搜索功能\">3.3 搜索功能</h3>\r\n<p>安装搜索插件</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>\r\n<p>打开 <code>_config.next.yml</code> ，添加</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">local_search:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\r\n<p>打开hexo的站点配置 <code>_config.yml</code>，添加</p>\r\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">search:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">search.json</span></span><br><span class=\"line\">  <span class=\"attr\">field:</span> <span class=\"string\">post</span></span><br><span class=\"line\">  <span class=\"attr\">format:</span> <span class=\"string\">html</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">10000</span></span><br></pre></td></tr></table></figure>\r\n<h3 id=\"统计功能\">3.4 统计功能</h3>\r\n<p>显示文章字数统计、阅读时长及总字数。首先安装插件</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure>\r\n<p>打开 <code>themes/next/_config.yml</code> ，搜索关键字\r\n<code>post_wordcount</code>，将所需选项的 <code>false</code> 改为\r\n<code>true</code> 打开\r\n<code>themes/next/layout/_macro/post.swig</code>，搜索关键词\r\n<code>post.wordcount</code>，添加 <code>字</code> 到末尾</p>\r\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;&#123;&#123; __(&#x27;post.wordcount&#x27;) &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    &#123;&#123; wordcount(post.content) &#125;&#125; 字</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure>\r\n<p>同理，搜索关键词 <code>post.min2read</code>，添加 <code>分钟</code>\r\n到末尾</p>\r\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;&#123;&#123; __(&#x27;post.min2read&#x27;) &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    &#123;&#123; min2read(post.content) &#125;&#125; 分钟</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure>\r\n<p>字数统计</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">post_wordcount:</span></span><br><span class=\"line\">  <span class=\"attr\">item_text:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">wordcount:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">min2read:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">totalcount:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">separated_meta:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\r\n<h3 id=\"简易相册\">3.5 简易相册</h3>\r\n<p>得益于Markdown和HTML混编可以被部分解析器解析的优势，可以使用HTML+CSS，添加一个简易相册。</p>\r\n<blockquote>\r\n<p>注意：之前由于为了使用MathJax而更换解析器为Pandoc，对于需要解析raw-html的文章，所有标签前不应有空格，且块级标签前后需要留出空行</p>\r\n</blockquote>\r\n<p>首先<code>hexo n page gallery</code>，创建图库。按照以下格式添加相册，相册封面图片放至<code>gallery/index/</code>目录下。</p>\r\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-list&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-item&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;相册1/&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;gallery/index/相册1封面.jpg&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>-相册1-<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-item&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;相册2/&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;gallery/index/相册2封面.jpg&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span>-相册2-<span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\r\n<p>新建相册页面，按照以下格式添加图片，图片放至<code>相册名/index/</code>目录下，其它相册同理。</p>\r\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-list&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-item&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;相册1/index/图片1.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;图片1标题&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-item&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;相册1/index/图片2.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;图片2标题&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-item&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;相册1/index/图片3.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;图片3标题&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-item&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;相册1/index/图片4.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;图片4标题&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-item&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;相册1/index/图片5.jpg&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;图片5标题&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-item&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">data-src</span>=<span class=\"string\">&quot;相册1/index/图片6.png&quot;</span> <span class=\"attr\">alt</span>=<span class=\"string\">&quot;图片6标题&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\r\n<p>在博客根目录下 <code>_config.next.yml</code> 中添加</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\">  <span class=\"attr\">gallery:</span> <span class=\"string\">/gallery/</span> <span class=\"string\">||</span> <span class=\"string\">fa</span> <span class=\"string\">fa-camera</span></span><br></pre></td></tr></table></figure>\r\n<p>在主题目录下，修改国际化文件<code>languages\\zh-CN.yml</code>，添加</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\">  <span class=\"attr\">gallery:</span> <span class=\"string\">相册</span></span><br></pre></td></tr></table></figure>\r\n<p>在主题目录下，新建<code>source/css/_custom/custom.styl</code>，添加自定义样式</p>\r\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 自定义相册</span></span><br><span class=\"line\"><span class=\"selector-class\">.img-list</span>, <span class=\"selector-class\">.gallery-list</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: row;</span><br><span class=\"line\">    <span class=\"attribute\">flex-wrap</span>: wrap;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.img-item</span> <span class=\"selector-tag\">img</span>, <span class=\"selector-class\">.gallery-item</span> <span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">250px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">object-fit</span>: cover;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.gallery-item</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">    <span class=\"attribute\">max-width</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"variable\">$black</span>-deep;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: rgba(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.3</span>);</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">8px</span> <span class=\"number\">20px</span> -<span class=\"number\">8px</span> rgba(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.3</span>);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"variable\">$black</span>-deep;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">767px</span>) &#123;</span><br><span class=\"line\">    <span class=\"selector-class\">.gallery-item</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">min-width</span>: <span class=\"number\">75px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">font-size</span>: <span class=\"number\">13px</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<p>在主题目录下，<code>source/css/main.styl</code>内引用自定义样式</p>\r\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">@import</span> <span class=\"string\">&#x27;_custom/custom&#x27;</span></span><br></pre></td></tr></table></figure>\r\n<h3 id=\"添加分类和标签\">3.6 添加分类和标签</h3>\r\n<p>打开命令行，进入博客根目录，执行以下命令</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 新建分类</span></span><br><span class=\"line\">hexo n page categories</span><br><span class=\"line\"><span class=\"comment\"># 新建标签</span></span><br><span class=\"line\">hexo n page tags</span><br></pre></td></tr></table></figure>\r\n<p>修改<code>source/categories/index.md</code>，在front-matter中添加</p>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 分类</span><br><span class=\"line\">date: 2022-04-22 16:47:13</span><br><span class=\"line\"><span class=\"section\">type: &quot;categories&quot;</span></span><br><span class=\"line\"><span class=\"section\">---</span></span><br></pre></td></tr></table></figure>\r\n<p>修改<code>source/tags/index.md</code>，在front-matter中添加</p>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 标签</span><br><span class=\"line\">date: 2022-04-22 16:47:30</span><br><span class=\"line\"><span class=\"section\">type: &quot;tags&quot;</span></span><br><span class=\"line\"><span class=\"section\">---</span></span><br></pre></td></tr></table></figure>\r\n<h3 id=\"代码折叠\">3.7 代码折叠</h3>\r\n<blockquote>\r\n<p>强推<a href=\"https://www.toimc.com/hexo-usage-2/\">hexo博客代码折叠功能</a></p>\r\n</blockquote>\r\n<p>在主题目录下，添加<code>source/js/code-unfold.js</code>，</p>\r\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">var</span> <span class=\"variable constant_\">CODE_MAX_HEIGHT</span> = <span class=\"number\">250</span>;</span><br><span class=\"line\"><span class=\"keyword\">var</span> containers = [];</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 展开</span></span><br><span class=\"line\">$(<span class=\"string\">&#x27;body&#x27;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"string\">&#x27;.js_unfold_code_btn&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">closest</span>(<span class=\"string\">&#x27;.js_highlight_container&#x27;</span>).<span class=\"title function_\">addClass</span>(<span class=\"string\">&#x27;on&#x27;</span>);</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// 收起</span></span><br><span class=\"line\">$(<span class=\"string\">&#x27;body&#x27;</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;click&#x27;</span>, <span class=\"string\">&#x27;.js_retract_code_btn&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> $container = $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">closest</span>(<span class=\"string\">&#x27;.js_highlight_container&#x27;</span>).<span class=\"title function_\">removeClass</span>(<span class=\"string\">&#x27;on&#x27;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">var</span> winTop = $(<span class=\"variable language_\">window</span>).<span class=\"title function_\">scrollTop</span>();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> offsetTop = $container.<span class=\"title function_\">offset</span>().<span class=\"property\">top</span>;</span><br><span class=\"line\">    $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">css</span>(<span class=\"string\">&#x27;top&#x27;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (winTop &gt; offsetTop) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 设置滚动条位置</span></span><br><span class=\"line\">        $(<span class=\"string\">&#x27;body, html&#x27;</span>).<span class=\"title function_\">animate</span>(&#123;</span><br><span class=\"line\">            <span class=\"attr\">scrollTop</span>: $container.<span class=\"title function_\">offset</span>().<span class=\"property\">top</span> - <span class=\"variable constant_\">CODE_MAX_HEIGHT</span></span><br><span class=\"line\">        &#125;, <span class=\"number\">600</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"><span class=\"comment\">// 滚动事件，触发动画效果</span></span><br><span class=\"line\">$(<span class=\"variable language_\">window</span>).<span class=\"title function_\">on</span>(<span class=\"string\">&#x27;scroll&#x27;</span>, <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> scrollTop = $(<span class=\"variable language_\">window</span>).<span class=\"title function_\">scrollTop</span>();</span><br><span class=\"line\">    <span class=\"keyword\">var</span> temp = [];</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">let</span> i = <span class=\"number\">0</span>; i &lt; containers.<span class=\"property\">length</span>; i++) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> item = containers[i];</span><br><span class=\"line\">        <span class=\"keyword\">var</span> &#123;</span><br><span class=\"line\">            $container,</span><br><span class=\"line\">            height,</span><br><span class=\"line\">            $hide,</span><br><span class=\"line\">            hasHorizontalScrollbar</span><br><span class=\"line\">        &#125; = item;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> ($container.<span class=\"title function_\">closest</span>(<span class=\"string\">&#x27;body&#x27;</span>).<span class=\"property\">length</span> === <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 如果 $container 元素已经不在页面上, 则删除该元素</span></span><br><span class=\"line\">            <span class=\"comment\">// 防止pjax页面跳转之后，元素未删除</span></span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        temp.<span class=\"title function_\">push</span>(item);</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!$container.<span class=\"title function_\">hasClass</span>(<span class=\"string\">&#x27;on&#x27;</span>)) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">continue</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> offsetTop = $container.<span class=\"title function_\">offset</span>().<span class=\"property\">top</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> hideBtnHeight = $hide.<span class=\"title function_\">outerHeight</span>();</span><br><span class=\"line\">        <span class=\"comment\">// 减去按钮高度，减去底部滚动条高度</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> maxTop = <span class=\"built_in\">parseInt</span>(height - (hasHorizontalScrollbar ? <span class=\"number\">17</span> : <span class=\"number\">0</span>) - hideBtnHeight);</span><br><span class=\"line\">        <span class=\"keyword\">let</span> top = <span class=\"built_in\">parseInt</span>(</span><br><span class=\"line\">            <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(</span><br><span class=\"line\">                <span class=\"title class_\">Math</span>.<span class=\"title function_\">max</span>(scrollTop - offsetTop, <span class=\"number\">0</span>), <span class=\"comment\">// 如果小于 0 ，则取 0</span></span><br><span class=\"line\">                maxTop, <span class=\"comment\">// 如果大于 height ，则取 height</span></span><br><span class=\"line\">            )</span><br><span class=\"line\">        );</span><br><span class=\"line\">        <span class=\"comment\">// 根据 sin 曲线设置&quot;收起代码&quot;位置</span></span><br><span class=\"line\">        <span class=\"keyword\">var</span> halfHeight = <span class=\"built_in\">parseInt</span>($(<span class=\"variable language_\">window</span>).<span class=\"title function_\">height</span>() / <span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"title function_\">sin</span>((top / maxTop) * <span class=\"number\">90</span> * (<span class=\"number\">2</span> * <span class=\"title class_\">Math</span>.<span class=\"property\">PI</span> / <span class=\"number\">360</span>)));</span><br><span class=\"line\">        $hide.<span class=\"title function_\">css</span>(<span class=\"string\">&#x27;top&#x27;</span>, <span class=\"title class_\">Math</span>.<span class=\"title function_\">min</span>(top + halfHeight, maxTop));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    containers = temp;</span><br><span class=\"line\">&#125;);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// 添加隐藏容器</span></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">addCodeWrap</span>(<span class=\"params\">$node</span>) &#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> $container = $node.<span class=\"title function_\">wrap</span>(<span class=\"string\">&#x27;&lt;div class=&quot;js_highlight_container highlight-container&quot;&gt;&lt;div class=&quot;highlight-wrap&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span>).<span class=\"title function_\">closest</span>(<span class=\"string\">&#x27;.js_highlight_container&#x27;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// 底部 &quot;展开代码&quot; 与 侧边栏 &quot;收起代码&quot;</span></span><br><span class=\"line\">    <span class=\"keyword\">var</span> $btn = $(<span class=\"string\">`</span></span><br><span class=\"line\"><span class=\"string\">    &lt;div class=&quot;highlight-footer&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a class=&quot;js_unfold_code_btn show-btn&quot; href=&quot;javascript:;&quot;&gt;展开代码&lt;i class=&quot;fa fa-angle-down&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/div&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;a class=&quot;js_retract_code_btn hide-btn&quot; href=&quot;javascript:;&quot;&gt;&lt;i class=&quot;fa fa-angle-up&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;收起代码&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"string\">  `</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">    $container.<span class=\"title function_\">append</span>($btn);</span><br><span class=\"line\">    <span class=\"keyword\">return</span> $container;</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">function</span> <span class=\"title function_\">codeUnfold</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">    $(<span class=\"string\">&#x27;.highlight&#x27;</span>).<span class=\"title function_\">each</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">        <span class=\"comment\">// 防止重复渲染</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"variable language_\">this</span>.<span class=\"property\">__render__</span> === <span class=\"literal\">true</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> <span class=\"literal\">true</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"property\">__render__</span> = <span class=\"literal\">true</span>;</span><br><span class=\"line\">        <span class=\"keyword\">var</span> $this = $(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">        <span class=\"keyword\">var</span> height = $(<span class=\"variable language_\">this</span>).<span class=\"title function_\">outerHeight</span>();</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (height &gt; <span class=\"variable constant_\">CODE_MAX_HEIGHT</span>) &#123;</span><br><span class=\"line\">            <span class=\"comment\">// 添加展开&amp;收起容器</span></span><br><span class=\"line\">            <span class=\"keyword\">var</span> $container = <span class=\"title function_\">addCodeWrap</span>($this, height);</span><br><span class=\"line\">            containers.<span class=\"title function_\">push</span>(&#123;</span><br><span class=\"line\">                $container,</span><br><span class=\"line\">                height,</span><br><span class=\"line\">                <span class=\"attr\">$hide</span>: $container.<span class=\"title function_\">find</span>(<span class=\"string\">&#x27;.js_retract_code_btn&#x27;</span>),</span><br><span class=\"line\">                <span class=\"attr\">hasHorizontalScrollbar</span>: <span class=\"variable language_\">this</span>.<span class=\"property\">scrollWidth</span> &gt; <span class=\"variable language_\">this</span>.<span class=\"property\">offsetWidth</span>,</span><br><span class=\"line\">            &#125;);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;);</span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\r\n<p>在NexT主题中全局引用jQuery，或者在<code>_config.next.yml</code>中开启Fancybox，Fancybox会依赖jQuery，</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">fancybox:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\r\n<p>引用<code>code-unfold.js</code>，在主题目录下，<code>layout/_scripts/index.njk</code>的最后添加</p>\r\n<figure class=\"highlight plaintext\"><table><tr><td class=\"code\"><pre><span class=\"line\">&#123;&#123;- next_js(&#x27;code-unfold.js&#x27;) &#125;&#125;</span><br></pre></td></tr></table></figure>\r\n<p>修改主题目录下<code>source/js/next-boot.js</code></p>\r\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"title class_\">NexT</span>.<span class=\"property\">boot</span>.<span class=\"property\">refresh</span> = <span class=\"keyword\">function</span>(<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  <span class=\"comment\">// 添加一行代码</span></span><br><span class=\"line\">  <span class=\"title function_\">codeUnfold</span>();</span><br><span class=\"line\">  <span class=\"comment\">// ...</span></span><br></pre></td></tr></table></figure>\r\n<p>打开之前创建的<code>source/css/_custom/custom.styl</code>，添加</p>\r\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 展开收起效果</span></span><br><span class=\"line\"><span class=\"selector-class\">.highlight-container</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"attribute\">background-color</span>: highlight-background;</span><br><span class=\"line\"></span><br><span class=\"line\">    &amp;<span class=\"selector-class\">.on</span> &#123;</span><br><span class=\"line\">        <span class=\"selector-class\">.highlight-footer</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: none;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"selector-class\">.hide-btn</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"selector-class\">.highlight-wrap</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">max-height</span>: none;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-class\">.highlight-wrap</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">        <span class=\"attribute\">max-height</span>: <span class=\"number\">200px</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-class\">.highlight-footer</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">        <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">left</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">height</span>: <span class=\"number\">60px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">background-image</span>: <span class=\"string\">&#x27;linear-gradient(-180deg, rgba(255,255,255,0) 0%, %s 65%)&#x27;</span> % highlight-background;</span><br><span class=\"line\">        <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-class\">.show-btn</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">        <span class=\"attribute\">bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">left</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">        <span class=\"attribute\">padding</span>: <span class=\"number\">0</span> <span class=\"number\">0.8em</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span> <span class=\"number\">4px</span> <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">        <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">        <span class=\"attribute\">text-decoration</span>: none;</span><br><span class=\"line\">        <span class=\"attribute\">font-size</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">line-height</span>: <span class=\"number\">2em</span>;</span><br><span class=\"line\">        <span class=\"attribute\">transform</span>: translateX(-<span class=\"number\">50%</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"selector-pseudo\">&amp;:hover</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">text-decoration</span>: none;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-class\">.hide-btn</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">position</span>: absolute;</span><br><span class=\"line\">        <span class=\"attribute\">top</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">        <span class=\"attribute\">left</span>: -<span class=\"number\">21px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">display</span>: none;</span><br><span class=\"line\">        <span class=\"attribute\">flex-direction</span>: column;</span><br><span class=\"line\">        <span class=\"attribute\">padding</span>: <span class=\"number\">0.1em</span> <span class=\"number\">0</span> <span class=\"number\">0.6em</span>;</span><br><span class=\"line\">        <span class=\"attribute\">width</span>: <span class=\"number\">22px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">border-radius</span>: <span class=\"number\">4px</span> <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">4px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">background-color</span>: highlight-background;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">        <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">        <span class=\"attribute\">text-decoration</span>: none;</span><br><span class=\"line\">        <span class=\"attribute\">font-size</span>: <span class=\"number\">12px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">line-height</span>: <span class=\"number\">1em</span>;</span><br><span class=\"line\">        <span class=\"attribute\">transition</span>: top ease <span class=\"number\">0.35s</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-class\">.fa-angle-up</span>, <span class=\"selector-class\">.fa-angle-down</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">        <span class=\"attribute\">font-style</span>: normal;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-class\">.fa-angle-up</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;\\f106&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-class\">.fa-angle-down</span><span class=\"selector-pseudo\">:before</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">margin-left</span>: <span class=\"number\">0.5em</span>;</span><br><span class=\"line\">        <span class=\"attribute\">content</span>: <span class=\"string\">&#x27;\\f107&#x27;</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"selector-class\">.js_unfold_code_btn</span>, <span class=\"selector-class\">.js_retract_code_btn</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">border-bottom</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        <span class=\"attribute\">background</span>: rgba(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0.5</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"selector-pseudo\">&amp;:hover</span> &#123;</span><br><span class=\"line\">            <span class=\"attribute\">border-bottom-color</span>: none <span class=\"meta\">!important</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"豆瓣主页\">3.8 豆瓣主页</h3>\r\n","categories":["配置"],"tags":["Hexo","NexT"]},{"title":"【配置】Windows10使用Hexo和Pages服务搭建个人博客","url":"/0eccf52f1ab7/","content":"<h2 id=\"博客\">1 博客</h2>\r\n<p>博客（blog或weblog）正式名称是网络日志。一个典型的博客结合了文字、图像、链接以及其它主题相关的媒体，同时能够让读者以互动的方式留下建议和意见。博客的内容包括专注在特定课题上的评论或新闻，以及个人性的日记等。</p>\r\n<p>博客主要就是为了学习和记录。写作是一种产出，能够输出表达、巩固所学，同时满足分享欲和表达欲。</p>\r\n<blockquote>\r\n<p>喜欢写Blog的人，会经历三个阶段。\r\n第一阶段，刚接触Blog，觉得很新鲜，试着选择一个免费空间来写。\r\n第二阶段，发现免费空间限制太多，就自己购买域名和空间，搭建独立博客。\r\n第三阶段，觉得独立博客的管理太麻烦，最好在保留控制权的前提下，让别人来管，自己只负责写文章。</p>\r\n</blockquote>\r\n<p>引自<a href=\"http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html\">阮一峰</a></p>\r\n<h3 id=\"免费博客网站\">1.1 免费博客网站</h3>\r\n<p>第一阶段是最常见的，也是入门需求最低的。选择一个可以免费发布博客的网站，注册登录后即可开始创作。早期的有<a href=\"https://bbs.tianya.cn/\">天涯</a>、<a href=\"http://blog.sina.com.cn/\">新浪</a>等，近期的有<a href=\"https://www.jianshu.com/\">简书</a>、<a href=\"https://zhuanlan.zhihu.com/\">知乎</a>、<a href=\"https://www.douban.com/channel/30168767/\">豆瓣</a>等、面向开发者的有<a href=\"https://www.cnblogs.com/\">博客园</a>、<a href=\"https://blog.csdn.net/\">CSDN</a>、<a href=\"https://segmentfault.com/blogs\">思否</a>、<a href=\"https://juejin.cn/\">掘金</a>等。</p>\r\n<p>优点：</p>\r\n<ul>\r\n<li>免费</li>\r\n<li>开箱即用（Out of the box）</li>\r\n<li>不用考虑内容推广</li>\r\n</ul>\r\n<p>缺点：</p>\r\n<ul>\r\n<li>依赖平台，审核机制、敏感词过滤、限制发布内容等</li>\r\n<li>个性化界面定制差（博客园除外）</li>\r\n<li>弹窗、广告</li>\r\n<li>需要登录</li>\r\n</ul>\r\n<h3 id=\"服务器上搭建独立博客\">1.2 服务器上搭建独立博客</h3>\r\n<p>第二阶段，在个人服务器上搭建网站。如果是建站小白，或者懒得折腾，可以使用开源的博客系统简化步骤。目前主流的有<a href=\"https://cn.wordpress.org/\">WordPress</a>、<a href=\"https://halo.run/\">Halo</a>、<a href=\"http://typecho.org/\">Typecho</a>等。</p>\r\n<p>以WordPress为例，这是当前应用最广泛的CMS（Content Management\r\nSystem，内容管理系统），它基于PHP和MySQL数据库，配置方便，作为开源项目，有着优质的社区和丰富的插件。</p>\r\n<p>优点：</p>\r\n<ul>\r\n<li>完全的可定制化</li>\r\n<li>内容和规模不受限制</li>\r\n</ul>\r\n<p>缺点：</p>\r\n<ul>\r\n<li>需要购买服务器和域名</li>\r\n<li>需要考虑内容推广，网站备案、收录以及SEO优化等</li>\r\n<li>需要建站相关知识</li>\r\n<li>维护完全靠个人</li>\r\n</ul>\r\n<h3 id=\"免费静态网页托管服务\">1.3 免费静态网页托管服务</h3>\r\n<p>第三阶段，使用<a href=\"https://pages.github.com/\">GitHub</a>、<a href=\"https://gitee.com/help/articles/4136\">Gitee</a>、<a href=\"https://help.coding.net/docs/pages/operating.html\">CODING</a>等提供的Pages免费静态网页托管服务。</p>\r\n<p>GitHub\r\nPages直接从GitHub上的代码仓库中获取HTML、CSS和JavaScript文件，可以选择通过构建过程运行这些文件，并发布网站。用户可以使用GitHub\r\nPages来展示开源项目，搭建博客，或者分享简历等。</p>\r\n<p>你可以直接使用HTML+CSS+JS编写博客，但是这样做，排版费时费力，对前端技术也有一定要求。目前流行使用<a href=\"https://markdown.com.cn/intro.html\">Markdown</a>来写文档，例如GitHub项目中的<code>README.md</code>。</p>\r\n<p>Markdown是一种轻量级标记语言，使用纯文本格式来编写文档，可与HTML混编，语法简洁，让创作者节约排版耗时，更多地关注内容本身。拓展的Markdown语法还支持代码高亮、<a href=\"https://www.mathjax.org/\">MathJax</a>数学公式等。</p>\r\n<p>Markdown的使用，需要配合解析器。将Markdown转为HTML文件的最简单的方法，就是使用<a href=\"https://casual-effects.com/markdeep/\">Markdeep</a>，它是一个纯JS项目，只需在将编写好的Markdown文件的<code>.md</code>后缀改成<code>.html</code>，并且在文章里引用<code>markdeep.min.js</code>，就可以在浏览器中访问了。</p>\r\n<p>但博客不只有一篇文章，想要分类、标签、评论之类的功能，更普遍的，可以选择使用开源博客框架，例如<a href=\"https://hexo.io/\">Hexo</a>，<a href=\"https://ghost.org/\">Ghost</a>，<a href=\"https://jekyllrb.com/\">Jekyll</a>等。</p>\r\n<p>博客框架，也可以叫做静态网站生成器。框架处理博客文章，生成HTML、CSS、JS文件，配合Pages服务或者部署<a href=\"https://nginx.org/en/\">nginx</a>服务器等，即可在浏览器中访问。静态网站没有服务端处理或者数据库交互，利于使用CDN（Content\r\nDelivery\r\nNetwork内容分发网络）进行扩展加速，缓存上比动态网页的效率高。</p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 3%\">\r\n<col style=\"width: 36%\">\r\n<col style=\"width: 28%\">\r\n<col style=\"width: 31%\">\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th></th>\r\n<th><a href=\"https://jekyllrb.com/\">Jekyll</a></th>\r\n<th><a href=\"https://hexo.io/\">Hexo</a></th>\r\n<th><a href=\"https://ghost.org/\">Ghost</a></th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>语言</td>\r\n<td>Ruby</td>\r\n<td>JS</td>\r\n<td>Go</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>优势</td>\r\n<td>1.强大的GitHub Pages支持<br> 2.主题为gems方便分发</td>\r\n<td>1.相当快速<br> 2.在GitHub Pages部署简单<br>\r\n3.中文支持、中文社区</td>\r\n<td>1.速度非常快，对构建速度做了优化<br> 2.预置Go模版和模式<br>\r\n3.无需依赖（不用安装Go，因为它是编译好的二进制）<br>\r\n4.功能强大的内容模型</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>劣势</td>\r\n<td>1.当网站内容不断增加后，<br>构建速度会明显变慢。</td>\r\n<td>1.没有英文</td>\r\n<td>1.没有内置默认主题<br> 2.主题使用Go模版，所以需要熟悉Go<br>\r\n3.缺少扩展性和插件（因为Go是编译型语言）</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>功能</td>\r\n<td>1.Liquid模版引擎<br> 2.Sass预处理CSS<br></td>\r\n<td>1.EJS模版引擎<br> 2.对于HTML+CSS+JS非常友好</td>\r\n<td>1.国际化<br> 2.支持动态API</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>优点：</p>\r\n<ul>\r\n<li>免费</li>\r\n<li>可定制程度高</li>\r\n</ul>\r\n<p>缺点：</p>\r\n<ul>\r\n<li>只支持静态网页</li>\r\n<li>更新网页需要重新生成整个网站</li>\r\n<li>需要考虑内容推广，网站备案、收录以及SEO优化等</li>\r\n</ul>\r\n<h2 id=\"配置\">2 配置</h2>\r\n<p>配置Hexo前需要自行安装的环境：</p>\r\n<ul>\r\n<li><a href=\"https://nodejs.org/en/download/\">Node.js</a></li>\r\n<li><a href=\"https://git-scm.com/download/win\">Git</a></li>\r\n</ul>\r\n<h3 id=\"github-pages配置\">2.1 GitHub Pages配置</h3>\r\n<p>使用GitHub\r\nPages服务搭建自己的静态博客前，首先需要GitHub账号，没有的话请先<a href=\"https://github.com/signup\">注册</a>。登录之后，点击<code>New</code>，创建一个代码仓库（repository），除非是手头上正好有个闲置的域名，否则更推荐将仓库名设置为<code>username.github.io</code>，这样可以通过GitHub提供的<code>https://username.github.io</code>来访问。</p>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/创建仓库.png\" alt=\"创建仓库\">\r\n<figcaption aria-hidden=\"true\">创建仓库</figcaption>\r\n</figure>\r\n<p>创建完成之后可以写一个HTML简单测试一下，点击<code>Add file</code>，选择<code>Create new file</code>，填写文件名和内容，然后点击<code>Commit new file</code>提交。</p>\r\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    Hello World.</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/编写html.png\" alt=\"编写html\">\r\n<figcaption aria-hidden=\"true\">编写html</figcaption>\r\n</figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/提交html.png\" alt=\"提交html\">\r\n<figcaption aria-hidden=\"true\">提交html</figcaption>\r\n</figure>\r\n<p>提交后稍等几分钟，待GitHub缓存更新后，就可以在浏览器中访问了。</p>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/查看测试网页.png\" alt=\"查看测试网页\">\r\n<figcaption aria-hidden=\"true\">查看测试网页</figcaption>\r\n</figure>\r\n<h3 id=\"git配置\">2.2 Git配置</h3>\r\n<p>打开Git Bash，配置用户信息,</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 配置用户名和邮箱</span></span><br><span class=\"line\">git config --global user.name <span class=\"string\">&quot;github用户名&quot;</span></span><br><span class=\"line\">git config --global user.email <span class=\"string\">&quot;github注册邮箱&quot;</span></span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/git_config.png\" alt=\"git_config\">\r\n<figcaption aria-hidden=\"true\">git_config</figcaption>\r\n</figure>\r\n<h3 id=\"ssh配置\">2.3 SSH配置</h3>\r\n<p>Git和GitHub之间可以通过HTTPS、SSH、GitHub\r\nCLI等形式来连接，这里我们使用SSH方式连接。</p>\r\n<p>SSH登录安全性由非对称加密保证，产生密钥时，一次产生两个密钥，一个公钥，一个私钥，在Git中一般命名为id_rsa.pub,\r\nid_rsa。公钥放到远程主机，私钥保存在本地。</p>\r\n<p>当本地主机需要登录远程主机时，①本地主机向远程主机发送一个登录请求，②远程收到消息后，随机生成一个字符串并用公钥加密，发回给本地。③本地拿到该字符串，用存放在本地的私钥进行解密，再次发送到远程，④远程比对该解密后的字符串与源字符串是否等同，如果等同则认证成功。</p>\r\n<p>执行下面命令生成ssh密钥文件，会提示你指定保存路径（默认是<code>C:/Users/当前用户/.ssh/</code>）和文件名，然后确认密码。使用默认配置可以直接回车跳过，但是并不推荐，如果之前生成过密钥文件，会提示是否覆盖。</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 生成 ssh 密钥</span></span><br><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">&quot;github注册邮箱&quot;</span></span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/ssh_git.png\" alt=\"ssh_git\">\r\n<figcaption aria-hidden=\"true\">ssh_git</figcaption>\r\n</figure>\r\n<p>在<a href=\"https://github.com/settings/keys\">GitHub设置</a>里点击<code>New SSH key</code>添加公钥，在<code>Title</code>中填写名称，方便区分，接着以文本方式打开之前生成的<code>.pub</code>公钥文件，<code>Ctrl + A</code>全选，然后复制内容并粘贴到<code>Key</code>中，点击<code>Add SSH key</code>，确认GitHub密码后，完成配置。</p>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/ssh_github.png\" alt=\"ssh_github\">\r\n<figcaption aria-hidden=\"true\">ssh_github</figcaption>\r\n</figure>\r\n<p>在默认保存路径<code>C:/Users/当前用户/.ssh/</code>下，创建一个名为<code>config</code>的文件，输入以下内容，<code>IdentityFile</code>后面是之前配置的密钥的路径。如果之前保存过其它SSH密钥，可以依照相同格式进行配置。然后回到<code>Git Bash</code>，执行<code>chmod 600 ~/.ssh/config</code>添加读写权限。</p>\r\n<figure class=\"highlight text\"><table><tr><td class=\"code\"><pre><span class=\"line\"># github</span><br><span class=\"line\">Host github.com</span><br><span class=\"line\">IdentityFile ~/.ssh/id_rsa.github</span><br><span class=\"line\">User git</span><br></pre></td></tr></table></figure>\r\n<p>测试配置，出现<code>successfully authenticated</code>说明成功</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 测试配置</span></span><br><span class=\"line\">ssh -T git@github.com</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/ssh_test.png\" alt=\"ssh_test\">\r\n<figcaption aria-hidden=\"true\">ssh_test</figcaption>\r\n</figure>\r\n<h3 id=\"hexo配置\">2.4 Hexo配置</h3>\r\n<blockquote>\r\n<p>基本配置过程可以参考<a href=\"https://hexo.io/zh-cn/docs/\">Hexo官方文档</a>。</p>\r\n</blockquote>\r\n<p><a href=\"https://docs.npmjs.com/about-npm\">npm</a>是Node.js的包管理工具，用来安装、管理和分享JavaScript包，同时会自动处理多个包之间的依赖。打开命令行，执行<code>npm install -g npm</code>更新npm。</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看npm版本</span></span><br><span class=\"line\">npm -v</span><br><span class=\"line\"><span class=\"comment\"># 更新npm</span></span><br><span class=\"line\">npm install -g npm</span><br><span class=\"line\"><span class=\"comment\"># 更新npm至指定版本</span></span><br><span class=\"line\">npm install -g npm@8.7.0</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/更新npm.png\" alt=\"更新npm\">\r\n<figcaption aria-hidden=\"true\">更新npm</figcaption>\r\n</figure>\r\n<p>安装Hexo</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装Hexo</span></span><br><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/安装Hexo.png\" alt=\"安装Hexo\">\r\n<figcaption aria-hidden=\"true\">安装Hexo</figcaption>\r\n</figure>\r\n<p>cd到想要创建的博客目录，初始化Hexo</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 初始化Hexo</span></span><br><span class=\"line\">hexo init</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/初始化Hexo.png\" alt=\"初始化Hexo\">\r\n<figcaption aria-hidden=\"true\">初始化Hexo</figcaption>\r\n</figure>\r\n<p>初始化之后，目录下会增加如下内容，详细解释可以参考<a href=\"https://hexo.io/zh-cn/docs/setup\">Hexo文档</a>。</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">├─.github/                      <span class=\"comment\"># GitHub配置</span></span><br><span class=\"line\">├─node_modules/                 <span class=\"comment\"># 包管理目录</span></span><br><span class=\"line\">├─scaffolds/                    <span class=\"comment\"># 模板目录</span></span><br><span class=\"line\">├─<span class=\"built_in\">source</span>/                       <span class=\"comment\"># 文章目录</span></span><br><span class=\"line\">│  └─_posts/</span><br><span class=\"line\">│      hello-world.md</span><br><span class=\"line\">└─themes/                       <span class=\"comment\"># 主题目录</span></span><br><span class=\"line\">  .gitignore                    <span class=\"comment\"># 忽略文件</span></span><br><span class=\"line\">  _config.landscape.yml         <span class=\"comment\"># 主题配置文件</span></span><br><span class=\"line\">  _config.yml                   <span class=\"comment\"># 全局配置文件</span></span><br><span class=\"line\">  package.json                  <span class=\"comment\"># 包配置文件</span></span><br><span class=\"line\">  package-lock.json</span><br></pre></td></tr></table></figure>\r\n<p>将编写好的Markdown博客，放在<code>source/_posts/</code>目录下，Hexo默认有一篇欢迎博客<code>hello-world.md</code>，里面有简单介绍和快速入门。执行命令，测试Hexo本地配置。</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 生成博客</span></span><br><span class=\"line\">hexo generate</span><br><span class=\"line\"><span class=\"comment\"># 启动服务</span></span><br><span class=\"line\">hexo server</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/hexo运行.png\" alt=\"hexo运行\">\r\n<figcaption aria-hidden=\"true\">hexo运行</figcaption>\r\n</figure>\r\n<p>打开链接<a href=\"http://localhost:4000/\" class=\"uri\">http://localhost:4000/</a>，查看博客。</p>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/本地测试.png\" alt=\"本地测试\">\r\n<figcaption aria-hidden=\"true\">本地测试</figcaption>\r\n</figure>\r\n<p>在博客目录下运行命令行，安装<code>hexo-deployer-git</code>插件。</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装hexo-deployer-git插件</span></span><br><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/hexo_deployer_git.png\" alt=\"hexo_deployer_git\">\r\n<figcaption aria-hidden=\"true\">hexo_deployer_git</figcaption>\r\n</figure>\r\n<p>看到提示有高危漏洞<font color=\"grey\"> <del>，我也不明白怎么处理</del>\r\n</font>，按照提示输入<code>npm audit fix --force</code>修复。</p>\r\n<p>回到GitHub博客项目，点击<code>Code</code>，选择<code>SSH</code>，点击链接右侧图标，将链接复制到剪贴板。</p>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/github路径.png\" alt=\"github路径\">\r\n<figcaption aria-hidden=\"true\">github路径</figcaption>\r\n</figure>\r\n<p>打开博客根目录下的<code>_config.yml</code>，在deploy下填写配置，将链接粘贴到<code>repository</code>字段。</p>\r\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">  <span class=\"attr\">repository:</span> <span class=\"string\">git@github.com:GH1656409967/GH1656409967.github.io.git</span></span><br><span class=\"line\">  <span class=\"attr\">branch:</span> <span class=\"string\">main</span></span><br></pre></td></tr></table></figure>\r\n<blockquote>\r\n<p>注意，2020年10月1日起，在Github平台上所有新创建的源代码仓库的默认分支被命名为\"<font color=\"red\">main</font>\"，不再是原先的\"master\"。</p>\r\n</blockquote>\r\n<p>测试Hexo远程部署。如果之前SSH设置了密码，则需要输入密码，看到<code>Deploy done</code>，说明部署成功。</p>\r\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 远程部署（上传到GitHub）</span></span><br><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/hexo_deploy.png\" alt=\"hexo_deploy\">\r\n<figcaption aria-hidden=\"true\">hexo_deploy</figcaption>\r\n</figure>\r\n<p>打开GitHub博客项目，可以看到代码文件已经更新了。再打开<code>https://username.github.io/</code>，博客内容也同步更新了，与本地<code>http://localhost:4000/</code>访问页面一样。</p>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/github项目更新.png\" alt=\"github项目更新\">\r\n<figcaption aria-hidden=\"true\">github项目更新</figcaption>\r\n</figure>\r\n<figure>\r\n<img data-src=\"/0eccf52f1ab7/查看博客网页.png\" alt=\"查看博客网页\">\r\n<figcaption aria-hidden=\"true\">查看博客网页</figcaption>\r\n</figure>\r\n<h2 id=\"总结\">3 总结</h2>\r\n<p>至此，一个基础的独立博客已经搭建完成了,\r\n在Linux和Mac上的配置，也应该类似。Hexo有丰富的插件和社区资源，能提供更多个性化定制，想要添加更多的功能可以参考我的文章<a href=\"【配置】Hexo及NexT主题的配置.html\">【配置】Hexo及NexT主题的配置</a>。</p>\r\n<p>由于博客源文件是Markdown格式，后续的博客的迁移也不麻烦。在购买了云服务器后，也可以使用nginx等服务替换GitHub\r\nPages服务。</p>\r\n<blockquote>\r\n<p>最后，请保证将Pages服务仅用于博客/门户/开源项目网站/开源项目静态效果演示用途，请勿用于违规内容，包括但不仅限于：</p>\r\n<ul>\r\n<li>发布诱导分享/诱导关注/诱导下载/诱导跳转内容</li>\r\n<li>发布欺诈/谣言/骚扰信息/广告信息/垃圾信息/特殊识别码、口令类信息</li>\r\n<li>发布低俗内容/“宗教性捐献”及相关信息</li>\r\n<li>发布侵害他人权利/违法经营及可疑服务类内容</li>\r\n<li>发布其它违反国家法律法规的内容</li>\r\n</ul>\r\n</blockquote>\r\n","categories":["配置"],"tags":["Hexo","Windows","Pages"]}]