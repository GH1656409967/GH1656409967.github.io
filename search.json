[{"title":"【配置】Hexo及NexT主题的配置","url":"/d886aeabd7fa/","content":"<h2 id=\"1-安装NexT主题\"><a href=\"#1-安装NexT主题\" class=\"headerlink\" title=\"1 安装NexT主题\"></a>1 安装NexT主题</h2><blockquote>\n<p>基本配置过程可以参考<a href=\"http://theme-next.iissnan.com/getting-started.html\">NexT官方文档</a>。</p>\n</blockquote>\n<p>打开命令行，进入博客目录，运行以下命令，安装NexT主题：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">git <span class=\"built_in\">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/d886aeabd7fa/%E5%AE%89%E8%A3%85NexT%E4%B8%BB%E9%A2%98.png\" alt=\"安装NexT主题\"></p>\n<p>更新npm，安装<code>hexo-renderer-swig</code>插件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 更新npm</span></span><br><span class=\"line\">npm i -g npm@latest</span><br><span class=\"line\"><span class=\"comment\"># 换国内源</span></span><br><span class=\"line\">npm config <span class=\"built_in\">set</span> registry https://registry.npm.taobao.org</span><br><span class=\"line\"><span class=\"comment\"># 查看配置</span></span><br><span class=\"line\">npm config list</span><br><span class=\"line\"><span class=\"comment\"># 安装插件</span></span><br><span class=\"line\">npm i hexo-renderer-swig -save</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/d886aeabd7fa/%E6%9B%B4%E6%96%B0Hexo.png\" alt=\"更新Hexo\"></p>\n<p>然后修改博客根目录下的<code>_config.yml</code>配置文件，将主题设置为NexT</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">theme:</span> <span class=\"string\">next</span></span><br></pre></td></tr></table></figure>\n\n<p>然后重新生成一下博客，打开本地服务</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 清除缓存</span></span><br><span class=\"line\">hexo clean</span><br><span class=\"line\"><span class=\"comment\"># 生成静态文件</span></span><br><span class=\"line\">hexo generate</span><br><span class=\"line\"><span class=\"comment\"># 启动服务（开启调试）</span></span><br><span class=\"line\">hexo server --debug</span><br></pre></td></tr></table></figure>\n\n<p>访问<a href=\"http://localhost:4000/\">http://localhost:4000/</a>，查看效果</p>\n<p><img src=\"/d886aeabd7fa/%E6%9C%AC%E5%9C%B0%E6%9F%A5%E7%9C%8B.png\" alt=\"本地查看\"></p>\n<h2 id=\"2-功能添加\"><a href=\"#2-功能添加\" class=\"headerlink\" title=\"2 功能添加\"></a>2 功能添加</h2><h3 id=\"2-1-图片不显示\"><a href=\"#2-1-图片不显示\" class=\"headerlink\" title=\"2.1 图片不显示\"></a>2.1 图片不显示</h3><blockquote>\n<p>此处仅处理本地图片引用，不考虑使用图床的情况</p>\n</blockquote>\n<p>从之前生成的静态文件中，可以看到图片未上传至<code>public</code>目录，且图片路径是绝对路径，而不是相对路径。</p>\n<p><img src=\"/d886aeabd7fa/%E5%9B%BE%E7%89%87%E4%B8%8D%E6%98%BE%E7%A4%BA.png\" alt=\"图片不显示\"></p>\n<p>首先修改博客根目录<code>_config.yml</code>配置文件，开启上传资源文件夹</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">post_asset_folder:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<p>然后需要安装一个图片路径转换插件，打开命令行，进入博客根目录，执行以下命令</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i hexo-asset-image --save</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/d886aeabd7fa/%E5%9B%BE%E7%89%87%E8%B7%AF%E5%BE%84%E8%BD%AC%E6%8D%A2%E6%8F%92%E4%BB%B6.png\" alt=\"图片路径转换插件\"></p>\n<p>修改此插件源码<code>/node_modules/hexo-asset-image/index.js</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span>(config.<span class=\"property\">post_asset_folder</span>)&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> link = data.<span class=\"property\">permalink</span>;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> beginPos = <span class=\"title function_\">getPosition</span>(link, <span class=\"string\">&#x27;/&#x27;</span>, <span class=\"number\">3</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  <span class=\"comment\">/* 注释以下内容</span></span><br><span class=\"line\"><span class=\"comment\">  var appendLink = &#x27;&#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">  // In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.</span></span><br><span class=\"line\"><span class=\"comment\">  // if not with index.html endpos = link.lastIndexOf(&#x27;.&#x27;) + 1 support hexo-abbrlink</span></span><br><span class=\"line\"><span class=\"comment\">  if(/.*\\/index\\.html$/.test(link)) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    // when permalink is end with index.html, for example 2019/02/20/xxtitle/index.html</span></span><br><span class=\"line\"><span class=\"comment\">    // image in xxtitle/ will go to xxtitle/index/</span></span><br><span class=\"line\"><span class=\"comment\">    appendLink = &#x27;index/&#x27;;</span></span><br><span class=\"line\"><span class=\"comment\">    var endPos = link.lastIndexOf(&#x27;/&#x27;);</span></span><br><span class=\"line\"><span class=\"comment\">  &#125;</span></span><br><span class=\"line\"><span class=\"comment\">  else &#123;</span></span><br><span class=\"line\"><span class=\"comment\">    var endPos = link.lastIndexOf(&#x27;.&#x27;);</span></span><br><span class=\"line\"><span class=\"comment\">  &#125;</span></span><br><span class=\"line\"><span class=\"comment\">  link = link.substring(beginPos, endPos) + &#x27;/&#x27; + appendLink;</span></span><br><span class=\"line\"><span class=\"comment\">  */</span></span><br><span class=\"line\">  <span class=\"comment\">/* 修改为下面两行 */</span></span><br><span class=\"line\">  <span class=\"keyword\">var</span> endPos = link.<span class=\"title function_\">lastIndexOf</span>(<span class=\"string\">&#x27;/&#x27;</span>) + <span class=\"number\">1</span>;</span><br><span class=\"line\">  link = link.<span class=\"title function_\">substring</span>(beginPos, endPos);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">var</span> toprocess = [<span class=\"string\">&#x27;excerpt&#x27;</span>, <span class=\"string\">&#x27;more&#x27;</span>, <span class=\"string\">&#x27;content&#x27;</span>];</span><br></pre></td></tr></table></figure>\n\n<p>清除缓存，重新生成博客，打开本地服务，查看效果</p>\n<p><img src=\"/d886aeabd7fa/%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA.png\" alt=\"图片显示\"></p>\n<h3 id=\"九、统计功能\"><a href=\"#九、统计功能\" class=\"headerlink\" title=\"九、统计功能\"></a>九、统计功能</h3><p>显示文章字数统计、阅读时长及总字数，</p>\n<ul>\n<li><p>安装插件</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i --save hexo-wordcount</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>打开 <code>themes/next/_config.yml</code> ，搜索关键字 <code>post_wordcount</code>，将所需选项的 <code>false</code> 改为 <code>true</code></p>\n</li>\n<li><p>打开 <code>themes/next/layout/_macro/post.swig</code>，搜索关键词 <code>post.wordcount</code>，添加 <code>字</code> 到末尾</p>\n  <figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;&#123;&#123; __(&#x27;post.wordcount&#x27;) &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    &#123;&#123; wordcount(post.content) &#125;&#125; 字</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p> 同理，搜索关键词 <code>post.min2read</code>，添加 <code>分钟</code> 到末尾</p>\n <figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">span</span> <span class=\"attr\">title</span>=<span class=\"string\">&quot;&#123;&#123; __(&#x27;post.min2read&#x27;) &#125;&#125;&quot;</span>&gt;</span></span><br><span class=\"line\">    &#123;&#123; min2read(post.content) &#125;&#125; 分钟</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">span</span>&gt;</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<p>字数统计</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">post_wordcount:</span></span><br><span class=\"line\">  <span class=\"attr\">item_text:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">wordcount:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">min2read:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">totalcount:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">separated_meta:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"MathJax\"><a href=\"#MathJax\" class=\"headerlink\" title=\"MathJax\"></a>MathJax</h3><p>使用<a href=\"https://www.mathjax.org/#gettingstarted\">mathjax</a>，开启<a href=\"https://www.latex-project.org/\">LaTeX</a>数学公式支持。</p>\n<blockquote>\n<p><a href=\"https://www.bootcdn.cn/\">BootCDN</a>对外提供服务的域名已经于两年前（即2020年）变更为新域名 cdn.bootcdn.net</p>\n</blockquote>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">mathjax:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">per_page:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">cdn:</span> <span class=\"string\">//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js?config=TeX-AMS-MML_HTMLorMML</span></span><br><span class=\"line\">  <span class=\"comment\"># cdn: //cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML</span></span><br></pre></td></tr></table></figure>\n\n<p>简单测试</p>\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> x = &#123;-b <span class=\"keyword\">\\pm</span> <span class=\"keyword\">\\sqrt</span>&#123;b<span class=\"built_in\">^</span>2-4ac&#125; <span class=\"keyword\">\\over</span> 2a&#125; <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\n\n<p>$$ x &#x3D; {-b \\pm \\sqrt{b^2-4ac} \\over 2a} $$</p>\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> f(a) = <span class=\"keyword\">\\frac</span>&#123;1&#125;&#123;2<span class=\"keyword\">\\pi</span> i&#125; <span class=\"keyword\">\\oint</span><span class=\"keyword\">\\frac</span>&#123;f(z)&#125;&#123;z-a&#125;dz <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\n\n<p>$$ f(a) &#x3D; \\frac{1}{2\\pi i} \\oint\\frac{f(z)}{z-a}dz $$</p>\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> <span class=\"keyword\">\\cos</span>(<span class=\"keyword\">\\theta</span>+<span class=\"keyword\">\\phi</span>)=<span class=\"keyword\">\\cos</span>(<span class=\"keyword\">\\theta</span>)<span class=\"keyword\">\\cos</span>(<span class=\"keyword\">\\phi</span>)−<span class=\"keyword\">\\sin</span>(<span class=\"keyword\">\\theta</span>)<span class=\"keyword\">\\sin</span>(<span class=\"keyword\">\\phi</span>) <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\n\n<p>$$ \\cos(\\theta+\\phi)&#x3D;\\cos(\\theta)\\cos(\\phi)−\\sin(\\theta)\\sin(\\phi) $$</p>\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> <span class=\"keyword\">\\int</span><span class=\"built_in\">_</span>D (&#123;<span class=\"keyword\">\\nabla</span><span class=\"keyword\">\\cdot</span>&#125; F)dV=<span class=\"keyword\">\\int</span><span class=\"built_in\">_</span>&#123;<span class=\"keyword\">\\partial</span> D&#125; F<span class=\"keyword\">\\cdot</span> ndS <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\n\n<p>$$ \\int_D ({\\nabla\\cdot} F)dV&#x3D;\\int_{\\partial D} F\\cdot ndS $$</p>\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br><span class=\"line\"><span class=\"keyword\">\\vec</span>&#123;<span class=\"keyword\">\\nabla</span>&#125; <span class=\"keyword\">\\times</span> <span class=\"keyword\">\\vec</span>&#123;F&#125; =</span><br><span class=\"line\">      <span class=\"keyword\">\\left</span>( <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>z&#125;&#123;<span class=\"keyword\">\\partial</span> y&#125; - <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>y&#125;&#123;<span class=\"keyword\">\\partial</span> z&#125; <span class=\"keyword\">\\right</span>) <span class=\"keyword\">\\mathbf</span>&#123;i&#125;</span><br><span class=\"line\">    + <span class=\"keyword\">\\left</span>( <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>x&#125;&#123;<span class=\"keyword\">\\partial</span> z&#125; - <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>z&#125;&#123;<span class=\"keyword\">\\partial</span> x&#125; <span class=\"keyword\">\\right</span>) <span class=\"keyword\">\\mathbf</span>&#123;j&#125;</span><br><span class=\"line\">    + <span class=\"keyword\">\\left</span>( <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>y&#125;&#123;<span class=\"keyword\">\\partial</span> x&#125; - <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> F<span class=\"built_in\">_</span>x&#125;&#123;<span class=\"keyword\">\\partial</span> y&#125; <span class=\"keyword\">\\right</span>) <span class=\"keyword\">\\mathbf</span>&#123;k&#125;</span><br><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\n\n<p>$$<br>\\vec{\\nabla} \\times \\vec{F} &#x3D;<br>      \\left( \\frac{\\partial F_z}{\\partial y} - \\frac{\\partial F_y}{\\partial z} \\right) \\mathbf{i}<br>    + \\left( \\frac{\\partial F_x}{\\partial z} - \\frac{\\partial F_z}{\\partial x} \\right) \\mathbf{j}<br>    + \\left( \\frac{\\partial F_y}{\\partial x} - \\frac{\\partial F_x}{\\partial y} \\right) \\mathbf{k}<br>$$</p>\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span> <span class=\"keyword\">\\sigma</span> = <span class=\"keyword\">\\sqrt</span>&#123; <span class=\"keyword\">\\frac</span>&#123;1&#125;&#123;N&#125; <span class=\"keyword\">\\sum</span><span class=\"built_in\">_</span>&#123;i=1&#125;<span class=\"built_in\">^</span>N (x<span class=\"built_in\">_</span>i -<span class=\"keyword\">\\mu</span>)<span class=\"built_in\">^</span>2&#125; <span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\n\n<p>$$ \\sigma &#x3D; \\sqrt{ \\frac{1}{N} \\sum_{i&#x3D;1}^N (x_i -\\mu)^2} $$</p>\n<figure class=\"highlight latex\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br><span class=\"line\">(<span class=\"keyword\">\\nabla</span><span class=\"built_in\">_</span>X Y)<span class=\"built_in\">^</span>k = X<span class=\"built_in\">^</span>i (<span class=\"keyword\">\\nabla</span><span class=\"built_in\">_</span>i Y)<span class=\"built_in\">^</span>k</span><br><span class=\"line\">    = X<span class=\"built_in\">^</span>i <span class=\"keyword\">\\left</span>( <span class=\"keyword\">\\frac</span>&#123;<span class=\"keyword\">\\partial</span> Y<span class=\"built_in\">^</span>k&#125;&#123;<span class=\"keyword\">\\partial</span> x<span class=\"built_in\">^</span>i&#125; + <span class=\"keyword\">\\Gamma</span><span class=\"built_in\">_</span>&#123;im&#125;<span class=\"built_in\">^</span>k Y<span class=\"built_in\">^</span>m <span class=\"keyword\">\\right</span>)</span><br><span class=\"line\"><span class=\"built_in\">$</span><span class=\"built_in\">$</span></span><br></pre></td></tr></table></figure>\n\n<p>$$<br>(\\nabla_X Y)^k &#x3D; X^i (\\nabla_i Y)^k<br>    &#x3D; X^i \\left( \\frac{\\partial Y^k}{\\partial x^i} + \\Gamma_{im}^k Y^m \\right)<br>$$</p>\n<h3 id=\"搜索功能\"><a href=\"#搜索功能\" class=\"headerlink\" title=\"搜索功能\"></a>搜索功能</h3><ul>\n<li><p>安装插件</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">npm i hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>打开 <code>themes/next/_config.yml</code> ，搜索关键字 <code>local_search</code> ，设置为 <code>true</code></p>\n</li>\n</ul>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">local_search:</span></span><br><span class=\"line\"><span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"><span class=\"comment\"># if auto, trigger search by changing input</span></span><br><span class=\"line\"><span class=\"comment\"># if manual, trigger search by pressing enter key or search button</span></span><br><span class=\"line\"><span class=\"attr\">trigger:</span> <span class=\"string\">auto</span></span><br><span class=\"line\"><span class=\"comment\"># show top n results per article, show all results by setting to -1</span></span><br><span class=\"line\"><span class=\"attr\">top_n_per_article:</span> <span class=\"number\">1</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>打开hexo的站点配置 <code>_config.yml</code>，添加</p>\n<figure class=\"highlight yml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">search:</span></span><br><span class=\"line\">  <span class=\"attr\">path:</span> <span class=\"string\">search.json</span></span><br><span class=\"line\">  <span class=\"attr\">field:</span> <span class=\"string\">post</span></span><br><span class=\"line\">  <span class=\"attr\">format:</span> <span class=\"string\">html</span></span><br><span class=\"line\">  <span class=\"attr\">limit:</span> <span class=\"number\">10000</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"新建相册\"><a href=\"#新建相册\" class=\"headerlink\" title=\"新建相册\"></a>新建相册</h3><p>得益于markdown和html，可以使用html标签，添加一个相册</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-page&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-list&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-column&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-item&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;风景/&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/gallery/index/风景.jpg&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nofancybox&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span> - 风景 - <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-column&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-item&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;证书/&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;/gallery/index/证书.jpg&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;nofancybox&quot;</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">                <span class=\"tag\">&lt;<span class=\"name\">p</span>&gt;</span> - 证书 - <span class=\"tag\">&lt;/<span class=\"name\">p</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>部分图片禁用fancybox</p>\n<p>打开 <code>theme/next/source/js/src/utils.js</code>，添加 <code>if ($(this).hasClass(&#39;nofancybox&#39;)) return;</code></p>\n<figure class=\"highlight js\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">wrapImageWithFancyBox</span>: <span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">  $(<span class=\"string\">&#x27;.content img&#x27;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">not</span>(<span class=\"string\">&#x27;[hidden]&#x27;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">not</span>(<span class=\"string\">&#x27;.group-picture img, .post-gallery img&#x27;</span>)</span><br><span class=\"line\">    .<span class=\"title function_\">each</span>(<span class=\"keyword\">function</span> (<span class=\"params\"></span>) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">var</span> $image = $(<span class=\"variable language_\">this</span>);</span><br><span class=\"line\">      <span class=\"comment\">/* 部分图片禁用fancybox */</span></span><br><span class=\"line\">      <span class=\"keyword\">if</span> ($(<span class=\"variable language_\">this</span>).<span class=\"title function_\">hasClass</span>(<span class=\"string\">&#x27;nofancybox&#x27;</span>)) <span class=\"keyword\">return</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">      <span class=\"keyword\">var</span> imageTitle = $image.<span class=\"title function_\">attr</span>(<span class=\"string\">&#x27;title&#x27;</span>);</span><br><span class=\"line\">      <span class=\"keyword\">var</span> $imageWrapLink = $image.<span class=\"title function_\">parent</span>(<span class=\"string\">&#x27;a&#x27;</span>);</span><br></pre></td></tr></table></figure>\n\n<p>使用时，在img标签使用的时候加上 <code>class=&quot;nofancybox&quot;</code> 即可。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;gallery-page&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-list&quot;</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-column&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;index/农大邀请赛第一.png&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_Blank&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;证书/index/s/农大邀请赛第一.png&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;index/CCPC区域铜.jpg&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_Blank&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;证书/index/s/CCPC区域铜.jpg&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-column&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;index/GPLT团队铜.png&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_Blank&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;证书/index/s/GPLT团队铜.png&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;index/CCPC省银.png&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_Blank&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;证书/index/s/CCPC省银.png&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;img-column&quot;</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;index/蓝桥杯省一.jpg&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_Blank&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;证书/index/s/蓝桥杯省一.jpg&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">            <span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;index/ICPC省铜.png&quot;</span> <span class=\"attr\">target</span>=<span class=\"string\">&quot;_Blank&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">img</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;证书/index/s/ICPC省铜.png&quot;</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">center</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\">  <span class=\"attr\">gallery:</span> <span class=\"string\">相册</span></span><br></pre></td></tr></table></figure>\n\n<p><code>themes\\next\\source\\css\\_custom\\custom.styl</code></p>\n<figure class=\"highlight stylus\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 自定义相册</span></span><br><span class=\"line\"><span class=\"selector-class\">.gallery-page</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-top</span>: <span class=\"number\">0px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.img-list</span>, <span class=\"selector-class\">.gallery-list</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: row;</span><br><span class=\"line\">    <span class=\"attribute\">flex-wrap</span>: nowrap;</span><br><span class=\"line\">    <span class=\"attribute\">align-items</span>: flex-start;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.img-column</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: flex;</span><br><span class=\"line\">    <span class=\"attribute\">flex-direction</span>: column;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.img-column</span> <span class=\"selector-tag\">a</span>, <span class=\"selector-class\">.gallery-column</span> <span class=\"selector-tag\">a</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">border-bottom</span>: <span class=\"number\">0</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.gallery-item</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin-bottom</span>: -<span class=\"number\">50px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.gallery-item</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> auto;</span><br><span class=\"line\">    <span class=\"attribute\">max-width</span>: <span class=\"number\">50%</span>;</span><br><span class=\"line\">    <span class=\"attribute\">border</span>: <span class=\"number\">1px</span> solid <span class=\"variable\">$black</span>-deep;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">7px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: rgba(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, .<span class=\"number\">3</span>);</span><br><span class=\"line\">    <span class=\"attribute\">box-shadow</span>: <span class=\"number\">0</span> <span class=\"number\">8px</span> <span class=\"number\">20px</span> -<span class=\"number\">8px</span> rgba(<span class=\"number\">0</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>, .<span class=\"number\">3</span>);</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"variable\">$black</span>-deep;</span><br><span class=\"line\">    <span class=\"attribute\">text-align</span>: center;</span><br><span class=\"line\">    <span class=\"attribute\">font-size</span>: <span class=\"number\">15px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"selector-class\">.posts-expand</span> <span class=\"selector-class\">.post-body</span> <span class=\"selector-class\">.gallery-column</span> <span class=\"selector-tag\">a</span> <span class=\"selector-tag\">img</span> &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">300px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">250px</span>;</span><br><span class=\"line\">    <span class=\"attribute\">object-fit</span>: cover;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">@media</span> (<span class=\"attribute\">max-width</span>: <span class=\"number\">767px</span>) &#123;</span><br><span class=\"line\">    <span class=\"selector-class\">.gallery-item</span> <span class=\"selector-tag\">p</span> &#123;</span><br><span class=\"line\">        <span class=\"attribute\">min-width</span>: <span class=\"number\">75px</span>;</span><br><span class=\"line\">        <span class=\"attribute\">font-size</span>: <span class=\"number\">13px</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"3-主题修改\"><a href=\"#3-主题修改\" class=\"headerlink\" title=\"3 主题修改\"></a>3 主题修改</h2><h3 id=\"4-切换NexT布局方案\"><a href=\"#4-切换NexT布局方案\" class=\"headerlink\" title=\"4 切换NexT布局方案\"></a>4 切换NexT布局方案</h3><p>NexT提供四种布局方案，默认是<code>Muse</code>布局。想要切换不同方案，就取消行首的注释。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Schemes</span></span><br><span class=\"line\"><span class=\"comment\">#scheme: Muse</span></span><br><span class=\"line\"><span class=\"comment\">#scheme: Mist</span></span><br><span class=\"line\"><span class=\"attr\">scheme:</span> <span class=\"string\">Pisces</span></span><br><span class=\"line\"><span class=\"comment\">#scheme: Gemini</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"修改内容区域宽度\"><a href=\"#修改内容区域宽度\" class=\"headerlink\" title=\"修改内容区域宽度\"></a>修改内容区域宽度</h3><p>Next 对内容的宽度的设定如下：</p>\n<ul>\n<li>700px，当屏幕宽度 &lt; 1600px</li>\n<li>900px，当屏幕宽度 &gt;&#x3D; 1600px</li>\n<li>移动设备下，宽度自适应</li>\n</ul>\n<p>在主题目录下的 <code>source\\css_variables\\custom.styl</code> 文件，新增变量：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\">// 修改成你期望的宽度</span><br><span class=\"line\">$<span class=\"attribute\">content</span>-desktop = <span class=\"number\">700px</span></span><br><span class=\"line\">// 当视窗超过 <span class=\"number\">1600px</span> 后的宽度</span><br><span class=\"line\">$<span class=\"attribute\">content</span>-desktop-large = <span class=\"number\">900px</span></span><br></pre></td></tr></table></figure>\n\n<p>此方法不适用于 <code>Pisces Scheme</code>， <code>Pisces Scheme</code> 编辑<code>themes\\next\\source\\css\\_schemes\\Picses\\_layout.styl</code>文件，更改以下 css 选项定义值：<br><code>$main-desktop</code> <code>$content-desktop</code></p>\n<figure class=\"highlight css\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.header</span> &#123;<span class=\"attribute\">width</span>: <span class=\"number\">1150px</span>;&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.container</span> <span class=\"selector-class\">.main-inner</span> &#123;<span class=\"attribute\">width</span>: <span class=\"number\">1150px</span>;&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.content-wrap</span> &#123;<span class=\"attribute\">width</span>: <span class=\"built_in\">calc</span>(<span class=\"number\">100%</span> - <span class=\"number\">260px</span>);&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"5-修改网站标题\"><a href=\"#5-修改网站标题\" class=\"headerlink\" title=\"5 修改网站标题\"></a>5 修改网站标题</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Site</span></span><br><span class=\"line\"><span class=\"attr\">title:</span> <span class=\"string\">标题</span></span><br><span class=\"line\"><span class=\"attr\">subtitle:</span> <span class=\"string\">&#x27;子标题&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">description:</span> <span class=\"string\">&#x27;描述&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">keywords:</span> <span class=\"string\">关键词</span></span><br><span class=\"line\"><span class=\"attr\">author:</span> <span class=\"string\">作者</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"添加子标题\"><a href=\"#添加子标题\" class=\"headerlink\" title=\"添加子标题\"></a>添加子标题</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">index_with_subtitle:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"6-开启中文\"><a href=\"#6-开启中文\" class=\"headerlink\" title=\"6 开启中文\"></a>6 开启中文</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">language:</span> <span class=\"string\">zh-Hans</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Han Support docs: https://hanzi.pro/</span></span><br><span class=\"line\"><span class=\"attr\">han:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"自动检测高亮\"><a href=\"#自动检测高亮\" class=\"headerlink\" title=\"自动检测高亮\"></a>自动检测高亮</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">highlight:</span></span><br><span class=\"line\">  <span class=\"attr\">auto_detect:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">tab_replace:</span> <span class=\"string\">&#x27;    &#x27;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"每页显示文章数\"><a href=\"#每页显示文章数\" class=\"headerlink\" title=\"每页显示文章数\"></a>每页显示文章数</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">index_generator:</span></span><br><span class=\"line\">  <span class=\"attr\">per_page:</span> <span class=\"number\">30</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"默认分类\"><a href=\"#默认分类\" class=\"headerlink\" title=\"默认分类\"></a>默认分类</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">default_category:</span> <span class=\"string\">测试</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"每页页码\"><a href=\"#每页页码\" class=\"headerlink\" title=\"每页页码\"></a>每页页码</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">per_page:</span> <span class=\"number\">30</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"关闭页面底部博客信息\"><a href=\"#关闭页面底部博客信息\" class=\"headerlink\" title=\"关闭页面底部博客信息\"></a>关闭页面底部博客信息</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">copyright:</span></span><br><span class=\"line\"><span class=\"attr\">powered:</span> <span class=\"literal\">false</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">theme:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">false</span></span><br><span class=\"line\">  <span class=\"attr\">version:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"SEO优化\"><a href=\"#SEO优化\" class=\"headerlink\" title=\"SEO优化\"></a>SEO优化</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">seo:</span> <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-修改文章永久链接\"><a href=\"#3-修改文章永久链接\" class=\"headerlink\" title=\"3 修改文章永久链接\"></a>3 修改文章永久链接</h3><p>文章标题大多使用中文，但是URL并不推荐包含中文</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">url:</span> <span class=\"string\">https://gh1656409967.github.io/</span></span><br><span class=\"line\"><span class=\"attr\">permalink:</span> <span class=\"string\">:hash/</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"添加自定义menu菜单\"><a href=\"#添加自定义menu菜单\" class=\"headerlink\" title=\"添加自定义menu菜单\"></a>添加自定义menu菜单</h3><ol>\n<li>修改<code>themes/next/_config.yml</code>，在menu下添加菜单项，格式为 <code>Key: /link || icon</code> ，icon即为 <a href=\"http://fontawesome.dashgame.com/\">Font Awesome</a>  提供的图标。注意统一缩进，如果出现地址多了 <code>%20/</code> 无法访问，则删去 <code>||</code> 前的空格， 例如 <code>skill: skill|| book</code>。</li>\n<li>修改 <code>themes/next/languages/zh-Hans.yml</code> ，在menu下添加对应Key的中文，例如 <code>skill: 技能</code> ，注意统一缩进。</li>\n<li>在博客根目录，即执行hexo操作的目录，运行 <code>hexo new page &quot;skill&quot;</code>，也就是第1步对应添加的Key然后编辑新建的 <code>source/skill/index.md</code> 即可。同样，我们也可以使用 <code>技术: /tags/tech || wrench</code>，实现按照标签进行自定义菜单。</li>\n</ol>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">menu:</span></span><br><span class=\"line\">  <span class=\"comment\">#home: / || home</span></span><br><span class=\"line\">  <span class=\"attr\">about:</span> <span class=\"string\">about||</span> <span class=\"string\">user</span></span><br><span class=\"line\">  <span class=\"comment\">#tags: /tags/ || tags</span></span><br><span class=\"line\">  <span class=\"comment\">#categories: /categories/ || th</span></span><br><span class=\"line\">  <span class=\"comment\">#archives: /archives/ || archive</span></span><br><span class=\"line\">  <span class=\"comment\">#schedule: /schedule/ || calendar</span></span><br><span class=\"line\">  <span class=\"comment\">#sitemap: /sitemap.xml || sitemap</span></span><br><span class=\"line\">  <span class=\"comment\">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"添加分类和标签\"><a href=\"#添加分类和标签\" class=\"headerlink\" title=\"添加分类和标签\"></a>添加分类和标签</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 新建分类</span></span><br><span class=\"line\">hexo n page categories</span><br><span class=\"line\"><span class=\"comment\"># 新建标签</span></span><br><span class=\"line\">hexo n page tags</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 分类</span><br><span class=\"line\">date: 2022-04-22 16:47:13</span><br><span class=\"line\"><span class=\"section\">type: &quot;categories&quot;</span></span><br><span class=\"line\"><span class=\"section\">---</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight markdown\"><table><tr><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 标签</span><br><span class=\"line\">date: 2022-04-22 16:47:30</span><br><span class=\"line\"><span class=\"section\">type: &quot;tags&quot;</span></span><br><span class=\"line\"><span class=\"section\">---</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"添加社交链接\"><a href=\"#添加社交链接\" class=\"headerlink\" title=\"添加社交链接\"></a>添加社交链接</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">social:</span></span><br><span class=\"line\">  <span class=\"attr\">GitHub:</span> <span class=\"string\">https://github.com/GH1656409967</span> <span class=\"string\">||</span> <span class=\"string\">github</span></span><br><span class=\"line\">  <span class=\"attr\">QQ:</span> <span class=\"string\">http://wpa.qq.com/msgrd?v=3&amp;uin=1656409967&amp;site=qq&amp;menu=yes</span> <span class=\"string\">||</span> <span class=\"string\">qq</span></span><br><span class=\"line\">  <span class=\"string\">网易云:</span> <span class=\"string\">https://music.163.com/#/user/home?id=270121274</span> <span class=\"string\">||</span> <span class=\"string\">music</span></span><br><span class=\"line\">  <span class=\"string\">豆瓣:</span> <span class=\"string\">https://www.douban.com/people/215985894/</span> <span class=\"string\">||</span> <span class=\"string\">video-camera</span></span><br><span class=\"line\">  <span class=\"comment\">#E-Mail: mailto:yourname@gmail.com || envelope</span></span><br><span class=\"line\">  <span class=\"comment\">#Google: https://plus.google.com/yourname || google</span></span><br><span class=\"line\">  <span class=\"comment\">#Twitter: https://twitter.com/yourname || twitter</span></span><br><span class=\"line\">  <span class=\"comment\">#FB Page: https://www.facebook.com/yourname || facebook</span></span><br><span class=\"line\">  <span class=\"comment\">#VK Group: https://vk.com/yourname || vk</span></span><br><span class=\"line\">  <span class=\"comment\">#StackOverflow: https://stackoverflow.com/yourname || stack-overflow</span></span><br><span class=\"line\">  <span class=\"comment\">#YouTube: https://youtube.com/yourname || youtube</span></span><br><span class=\"line\">  <span class=\"comment\">#Instagram: https://instagram.com/yourname || instagram</span></span><br><span class=\"line\">  <span class=\"comment\">#Skype: skype:yourname?call|chat || skype</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"添加友链\"><a href=\"#添加友链\" class=\"headerlink\" title=\"添加友链\"></a>添加友链</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">links_icon:</span> <span class=\"string\">link</span></span><br><span class=\"line\"><span class=\"attr\">links_title:</span> <span class=\"string\">友情链接</span></span><br><span class=\"line\"><span class=\"attr\">links_layout:</span> <span class=\"string\">inline</span></span><br><span class=\"line\"><span class=\"attr\">links:</span></span><br><span class=\"line\">  <span class=\"string\">【jaihk662】:</span> <span class=\"string\">https://blog.csdn.net/jaihk662</span></span><br><span class=\"line\">  <span class=\"string\">【信仰.】:</span> <span class=\"string\">https://blog.csdn.net/haut_ykc</span></span><br><span class=\"line\">  <span class=\"string\">【SSimpLe_Y】:</span> <span class=\"string\">https://blog.csdn.net/ssimple_y</span></span><br><span class=\"line\">  <span class=\"string\">【柳婼のblog】:</span> <span class=\"string\">https://www.liuchuo.net/</span></span><br><span class=\"line\">  <span class=\"string\">【liweihang】:</span> <span class=\"string\">https://www.cnblogs.com/liweihang/</span></span><br><span class=\"line\">  <span class=\"string\">【ironz】:</span> <span class=\"string\">https://ironz.cn/</span></span><br><span class=\"line\">  <span class=\"string\">【Sysipus】:</span> <span class=\"string\">https://runzhaochen.github.io/</span></span><br><span class=\"line\">  <span class=\"string\">【Long_hen】:</span> <span class=\"string\">https://blog.csdn.net/Long_hen</span></span><br><span class=\"line\">  <span class=\"string\">【haut_bao】:</span> <span class=\"string\">https://blog.csdn.net/qq_41856950</span></span><br><span class=\"line\">  <span class=\"string\">【阿清そ</span> <span class=\"string\">】:</span> <span class=\"string\">https://aqingya.cn/</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"关闭目录自动编号\"><a href=\"#关闭目录自动编号\" class=\"headerlink\" title=\"关闭目录自动编号\"></a>关闭目录自动编号</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">toc:</span></span><br><span class=\"line\">  <span class=\"attr\">number:</span> <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"开启文章结尾版权声明\"><a href=\"#开启文章结尾版权声明\" class=\"headerlink\" title=\"开启文章结尾版权声明\"></a>开启文章结尾版权声明</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">post_copyright:</span></span><br><span class=\"line\">  <span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">  <span class=\"attr\">license:</span> <span class=\"string\">CC</span> <span class=\"string\">BY-NC-SA</span> <span class=\"number\">3.0</span></span><br><span class=\"line\">  <span class=\"attr\">license_url:</span> <span class=\"string\">https://creativecommons.org/licenses/by-nc-sa/3.0/</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"文章结尾打赏\"><a href=\"#文章结尾打赏\" class=\"headerlink\" title=\"文章结尾打赏\"></a>文章结尾打赏</h3><p>添加文章结尾打赏图片</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Reward</span></span><br><span class=\"line\"><span class=\"comment\">#reward_comment: Donate comment here</span></span><br><span class=\"line\"><span class=\"attr\">wechatpay:</span> <span class=\"string\">/images/wechatpay.png</span></span><br><span class=\"line\"><span class=\"attr\">alipay:</span> <span class=\"string\">/images/alipay.png</span></span><br><span class=\"line\"><span class=\"attr\">bitcoin:</span> <span class=\"string\">/images/thanks.png</span></span><br></pre></td></tr></table></figure>\n\n<p>修改<code>themes\\next\\languages\\zh-Hans.yml</code>，比特币改成感谢，拒绝挖矿！</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">reward:</span></span><br><span class=\"line\">  <span class=\"attr\">bitcoin:</span> <span class=\"string\">感谢</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"头像\"><a href=\"#头像\" class=\"headerlink\" title=\"头像\"></a>头像</h3><figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">avatar:</span> <span class=\"string\">/images/avatar.png</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"网站图标\"><a href=\"#网站图标\" class=\"headerlink\" title=\"网站图标\"></a>网站图标</h3><p>放到themes\\next\\source\\images下</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">favicon:</span></span><br><span class=\"line\">  <span class=\"attr\">small:</span> <span class=\"string\">/images/favicon-16x16-.png</span></span><br><span class=\"line\">  <span class=\"attr\">medium:</span> <span class=\"string\">/images/favicon-32x32-.png</span></span><br></pre></td></tr></table></figure>\n\n\n","categories":["配置"],"tags":["Hexo","Pages"]},{"title":"【配置】Windows10使用Hexo和Pages服务搭建个人博客","url":"/0eccf52f1ab7/","content":"<h2 id=\"1-博客\"><a href=\"#1-博客\" class=\"headerlink\" title=\"1 博客\"></a>1 博客</h2><p>博客（blog或weblog）正式名称是网络日志。一个典型的博客结合了文字、图像、链接以及其它主题相关的媒体，同时能够让读者以互动的方式留下建议和意见。博客的内容包括专注在特定课题上的评论或新闻，以及个人性的日记等。</p>\n<p>博客主要就是为了学习和记录。写作是一种产出，能够输出表达、巩固所学，同时满足分享欲和表达欲。</p>\n<blockquote>\n<p>喜欢写Blog的人，会经历三个阶段。<br>第一阶段，刚接触Blog，觉得很新鲜，试着选择一个免费空间来写。<br>第二阶段，发现免费空间限制太多，就自己购买域名和空间，搭建独立博客。<br>第三阶段，觉得独立博客的管理太麻烦，最好在保留控制权的前提下，让别人来管，自己只负责写文章。</p>\n</blockquote>\n<p>引自<a href=\"http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html\">阮一峰</a></p>\n<h3 id=\"1-1-免费博客网站\"><a href=\"#1-1-免费博客网站\" class=\"headerlink\" title=\"1.1 免费博客网站\"></a>1.1 免费博客网站</h3><p>第一阶段是最常见的，也是入门需求最低的。选择一个可以免费发布博客的网站，注册登录后即可开始创作。早期的有<a href=\"https://bbs.tianya.cn/\">天涯</a>、<a href=\"http://blog.sina.com.cn/\">新浪</a>等，近期的有<a href=\"https://www.jianshu.com/\">简书</a>、<a href=\"https://zhuanlan.zhihu.com/\">知乎</a>、<a href=\"https://www.douban.com/channel/30168767/\">豆瓣</a>等、面向开发者的有<a href=\"https://www.cnblogs.com/\">博客园</a>、<a href=\"https://blog.csdn.net/\">CSDN</a>、<a href=\"https://segmentfault.com/blogs\">思否</a>、<a href=\"https://juejin.cn/\">掘金</a>等。</p>\n<p>优点：</p>\n<ul>\n<li>免费</li>\n<li>开箱即用（Out of the box）</li>\n<li>不用考虑内容推广</li>\n</ul>\n<p>缺点：</p>\n<ul>\n<li>依赖平台，审核机制、敏感词过滤、限制发布内容等</li>\n<li>个性化界面定制差（博客园除外）</li>\n<li>弹窗、广告</li>\n<li>需要登录</li>\n</ul>\n<h3 id=\"1-2-服务器上搭建独立博客\"><a href=\"#1-2-服务器上搭建独立博客\" class=\"headerlink\" title=\"1.2 服务器上搭建独立博客\"></a>1.2 服务器上搭建独立博客</h3><p>第二阶段，在个人服务器上搭建网站。如果是建站小白，或者懒得折腾，可以使用开源的博客系统简化步骤。目前主流的有<a href=\"https://cn.wordpress.org/\">WordPress</a>、<a href=\"https://halo.run/\">Halo</a>、<a href=\"http://typecho.org/\">Typecho</a>等。</p>\n<p>以WordPress为例，这是当前应用最广泛的CMS（Content Management System，内容管理系统），它基于PHP和MySQL数据库，配置方便，作为开源项目，有着优质的社区和丰富的插件。</p>\n<p>优点：</p>\n<ul>\n<li>完全的可定制化</li>\n<li>内容和规模不受限制</li>\n</ul>\n<p>缺点：</p>\n<ul>\n<li>需要购买服务器和域名</li>\n<li>需要考虑内容推广，网站备案、收录以及SEO优化等</li>\n<li>需要建站相关知识</li>\n<li>维护完全靠个人</li>\n</ul>\n<h3 id=\"1-3-免费静态网页托管服务\"><a href=\"#1-3-免费静态网页托管服务\" class=\"headerlink\" title=\"1.3 免费静态网页托管服务\"></a>1.3 免费静态网页托管服务</h3><p>第三阶段，使用<a href=\"https://pages.github.com/\">GitHub</a>、<a href=\"https://gitee.com/help/articles/4136\">Gitee</a>、<a href=\"https://help.coding.net/docs/pages/operating.html\">CODING</a>等提供的Pages免费静态网页托管服务。</p>\n<p>GitHub Pages直接从GitHub上的代码仓库中获取HTML、CSS和JavaScript文件，可以选择通过构建过程运行这些文件，并发布网站。用户可以使用GitHub Pages来展示开源项目，搭建博客，或者分享简历等。</p>\n<p>你可以直接使用HTML+CSS+JS编写博客，但是这样做，排版费时费力，对前端技术也有一定要求。目前流行使用<a href=\"https://markdown.com.cn/intro.html\">Markdown</a>来写文档，例如GitHub项目中的<code>README.md</code>。</p>\n<p>Markdown是一种轻量级标记语言，使用纯文本格式来编写文档，可与HTML混编，语法简洁，让创作者节约排版耗时，更多地关注内容本身。拓展的Markdown语法还支持代码高亮、<a href=\"https://www.mathjax.org/\">MathJax</a>数学公式等。</p>\n<p>Markdown的使用，需要配合解析器。将Markdown转为HTML文件的最简单的方法，就是使用<a href=\"https://casual-effects.com/markdeep/\">Markdeep</a>，它是一个纯JS项目，只需在将编写好的Markdown文件的<code>.md</code>后缀改成<code>.html</code>，并且在文章里引用<code>markdeep.min.js</code>，就可以在浏览器中访问了。</p>\n<p>但博客不只有一篇文章，想要分类、标签、评论之类的功能，更普遍的，可以选择使用开源博客框架，例如<a href=\"https://hexo.io/\">Hexo</a>，<a href=\"https://ghost.org/\">Ghost</a>，<a href=\"https://jekyllrb.com/\">Jekyll</a>等。</p>\n<p>博客框架，也可以叫做静态网站生成器。框架处理博客文章，生成HTML、CSS、JS文件，配合Pages服务或者部署<a href=\"https://nginx.org/en/\">nginx</a>服务器等，即可在浏览器中访问。静态网站没有服务端处理或者数据库交互，利于使用CDN（Content Delivery Network内容分发网络）进行扩展加速，缓存上比动态网页的效率高。</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th><a href=\"https://jekyllrb.com/\">Jekyll</a></th>\n<th><a href=\"https://hexo.io/\">Hexo</a></th>\n<th><a href=\"https://ghost.org/\">Ghost</a></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>语言</td>\n<td>Ruby</td>\n<td>JS</td>\n<td>Go</td>\n</tr>\n<tr>\n<td>优势</td>\n<td>1.强大的GitHub Pages支持<br> 2.主题为gems方便分发</td>\n<td>1.相当快速<br> 2.在GitHub Pages部署简单<br> 3.中文支持、中文社区</td>\n<td>1.速度非常快，对构建速度做了优化<br> 2.预置Go模版和模式<br> 3.无需依赖（不用安装Go，因为它是编译好的二进制）<br> 4.功能强大的内容模型</td>\n</tr>\n<tr>\n<td>劣势</td>\n<td>1.当网站内容不断增加后，<br>构建速度会明显变慢。</td>\n<td>1.没有英文</td>\n<td>1.没有内置默认主题<br> 2.主题使用Go模版，所以需要熟悉Go<br> 3.缺少扩展性和插件（因为Go是编译型语言）</td>\n</tr>\n<tr>\n<td>功能</td>\n<td>1.Liquid模版引擎<br> 2.Sass预处理CSS<br></td>\n<td>1.EJS模版引擎<br> 2.对于HTML+CSS+JS非常友好</td>\n<td>1.国际化<br> 2.支持动态API</td>\n</tr>\n</tbody></table>\n<p>优点：</p>\n<ul>\n<li>免费</li>\n<li>可定制程度高</li>\n</ul>\n<p>缺点：</p>\n<ul>\n<li>只支持静态网页</li>\n<li>更新网页需要重新生成整个网站</li>\n<li>需要考虑内容推广，网站备案、收录以及SEO优化等</li>\n</ul>\n<h2 id=\"2-配置\"><a href=\"#2-配置\" class=\"headerlink\" title=\"2 配置\"></a>2 配置</h2><p>配置Hexo前需要自行安装的环境：</p>\n<ul>\n<li><a href=\"https://nodejs.org/en/download/\">Node.js</a></li>\n<li><a href=\"https://git-scm.com/download/win\">Git</a></li>\n</ul>\n<h3 id=\"2-1-GitHub-Pages配置\"><a href=\"#2-1-GitHub-Pages配置\" class=\"headerlink\" title=\"2.1 GitHub Pages配置\"></a>2.1 GitHub Pages配置</h3><p>使用GitHub Pages服务搭建自己的静态博客前，首先需要GitHub账号，没有的话请先<a href=\"https://github.com/signup\">注册</a>。登录之后，点击<code>New</code>，创建一个代码仓库（repository），除非是手头上正好有个闲置的域名，否则更推荐将仓库名设置为<code>username.github.io</code>，这样可以通过GitHub提供的<code>https://username.github.io</code>来访问。</p>\n<p><img src=\"/0eccf52f1ab7/%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93.png\" alt=\"创建仓库\"></p>\n<p>创建完成之后可以写一个HTML简单测试一下，点击<code>Add file</code>，选择<code>Create new file</code>，填写文件名和内容，然后点击<code>Commit new file</code>提交。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;!DOCTYPE <span class=\"keyword\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">html</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">meta</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">title</span>&gt;</span>test<span class=\"tag\">&lt;/<span class=\"name\">title</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">    Hello World.</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">html</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/%E7%BC%96%E5%86%99html.png\" alt=\"编写html\"></p>\n<p><img src=\"/0eccf52f1ab7/%E6%8F%90%E4%BA%A4html.png\" alt=\"提交html\"></p>\n<p>提交后稍等几分钟，待GitHub缓存更新后，就可以在浏览器中访问了。</p>\n<p><img src=\"/0eccf52f1ab7/%E6%9F%A5%E7%9C%8B%E6%B5%8B%E8%AF%95%E7%BD%91%E9%A1%B5.png\" alt=\"查看测试网页\"></p>\n<h3 id=\"2-2-Git配置\"><a href=\"#2-2-Git配置\" class=\"headerlink\" title=\"2.2 Git配置\"></a>2.2 Git配置</h3><p>打开Git Bash，配置用户信息,</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 配置用户名和邮箱</span></span><br><span class=\"line\">git config --global user.name <span class=\"string\">&quot;github用户名&quot;</span></span><br><span class=\"line\">git config --global user.email <span class=\"string\">&quot;github注册邮箱&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/git_config.png\" alt=\"git_config\"></p>\n<h3 id=\"2-3-SSH配置\"><a href=\"#2-3-SSH配置\" class=\"headerlink\" title=\"2.3 SSH配置\"></a>2.3 SSH配置</h3><p>Git和GitHub之间可以通过HTTPS、SSH、GitHub CLI等形式来连接，这里我们使用SSH方式连接。</p>\n<p>SSH登录安全性由非对称加密保证，产生密钥时，一次产生两个密钥，一个公钥，一个私钥，在Git中一般命名为id_rsa.pub, id_rsa。公钥放到远程主机，私钥保存在本地。</p>\n<p>当本地主机需要登录远程主机时，①本地主机向远程主机发送一个登录请求，②远程收到消息后，随机生成一个字符串并用公钥加密，发回给本地。③本地拿到该字符串，用存放在本地的私钥进行解密，再次发送到远程，④远程比对该解密后的字符串与源字符串是否等同，如果等同则认证成功。</p>\n<p>执行下面命令生成ssh密钥文件，会提示你指定保存路径（默认是<code>C:/Users/当前用户/.ssh/</code>）和文件名，然后确认密码。使用默认配置可以直接回车跳过，但是并不推荐，如果之前生成过密钥文件，会提示是否覆盖。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 生成 ssh 密钥</span></span><br><span class=\"line\">ssh-keygen -t rsa -C <span class=\"string\">&quot;github注册邮箱&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/ssh_git.png\" alt=\"ssh_git\"></p>\n<p>在<a href=\"https://github.com/settings/keys\">GitHub设置</a>里点击<code>New SSH key</code>添加公钥，在<code>Title</code>中填写名称，方便区分，接着以文本方式打开之前生成的<code>.pub</code>公钥文件，<code>Ctrl + A</code>全选，然后复制内容并粘贴到<code>Key</code>中，点击<code>Add SSH key</code>，确认GitHub密码后，完成配置。</p>\n<p><img src=\"/0eccf52f1ab7/ssh_github.png\" alt=\"ssh_github\"></p>\n<p>在默认保存路径<code>C:/Users/当前用户/.ssh/</code>下，创建一个名为<code>config</code>的文件，输入以下内容，<code>IdentityFile</code>后面是之前配置的密钥的路径。如果之前保存过其它SSH密钥，可以依照相同格式进行配置。然后回到<code>Git Bash</code>，执行<code>chmod 600 ~/.ssh/config</code>添加读写权限。</p>\n<figure class=\"highlight text\"><table><tr><td class=\"code\"><pre><span class=\"line\"># github</span><br><span class=\"line\">Host github.com</span><br><span class=\"line\">IdentityFile ~/.ssh/id_rsa.github</span><br><span class=\"line\">User git</span><br></pre></td></tr></table></figure>\n\n<p>测试配置，出现<code>successfully authenticated</code>说明成功</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 测试配置</span></span><br><span class=\"line\">ssh -T git@github.com</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/ssh_test.png\" alt=\"ssh_test\"></p>\n<h3 id=\"2-4-Hexo配置\"><a href=\"#2-4-Hexo配置\" class=\"headerlink\" title=\"2.4 Hexo配置\"></a>2.4 Hexo配置</h3><blockquote>\n<p>基本配置过程可以参考<a href=\"https://hexo.io/zh-cn/docs/\">Hexo官方文档</a>。</p>\n</blockquote>\n<p><a href=\"https://docs.npmjs.com/about-npm\">npm</a>是Node.js的包管理工具，用来安装、管理和分享JavaScript包，同时会自动处理多个包之间的依赖。打开命令行，执行<code>npm install -g npm</code>更新npm。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 查看npm版本</span></span><br><span class=\"line\">npm -v</span><br><span class=\"line\"><span class=\"comment\"># 更新npm</span></span><br><span class=\"line\">npm install -g npm</span><br><span class=\"line\"><span class=\"comment\"># 更新npm至指定版本</span></span><br><span class=\"line\">npm install -g npm@8.7.0</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/%E6%9B%B4%E6%96%B0npm.png\" alt=\"更新npm\"></p>\n<p>安装Hexo</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装Hexo</span></span><br><span class=\"line\">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/%E5%AE%89%E8%A3%85Hexo.png\" alt=\"安装Hexo\"></p>\n<p>cd到想要创建的博客目录，初始化Hexo</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 初始化Hexo</span></span><br><span class=\"line\">hexo init</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/%E5%88%9D%E5%A7%8B%E5%8C%96Hexo.png\" alt=\"初始化Hexo\"></p>\n<p>初始化之后，目录下会增加如下内容，详细解释可以参考<a href=\"https://hexo.io/zh-cn/docs/setup\">Hexo文档</a>。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">.</span><br><span class=\"line\">├─.github/                      <span class=\"comment\"># GitHub配置</span></span><br><span class=\"line\">├─node_modules/                 <span class=\"comment\"># 包管理目录</span></span><br><span class=\"line\">├─scaffolds/                    <span class=\"comment\"># 模板目录</span></span><br><span class=\"line\">├─<span class=\"built_in\">source</span>/                       <span class=\"comment\"># 文章目录</span></span><br><span class=\"line\">│  └─_posts/</span><br><span class=\"line\">│      hello-world.md</span><br><span class=\"line\">└─themes/                       <span class=\"comment\"># 主题目录</span></span><br><span class=\"line\">  .gitignore                    <span class=\"comment\"># 忽略文件</span></span><br><span class=\"line\">  _config.landscape.yml         <span class=\"comment\"># 主题配置文件</span></span><br><span class=\"line\">  _config.yml                   <span class=\"comment\"># 全局配置文件</span></span><br><span class=\"line\">  package.json                  <span class=\"comment\"># 包配置文件</span></span><br><span class=\"line\">  package-lock.json</span><br></pre></td></tr></table></figure>\n\n<p>将编写好的Markdown博客，放在<code>source/_posts/</code>目录下，Hexo默认有一篇欢迎博客<code>hello-world.md</code>，里面有简单介绍和快速入门。执行命令，测试Hexo本地配置。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 生成博客</span></span><br><span class=\"line\">hexo generate</span><br><span class=\"line\"><span class=\"comment\"># 启动服务</span></span><br><span class=\"line\">hexo server</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/hexo%E8%BF%90%E8%A1%8C.png\" alt=\"hexo运行\"></p>\n<p>打开链接<a href=\"http://localhost:4000/\">http://localhost:4000/</a>，查看博客。</p>\n<p><img src=\"/0eccf52f1ab7/%E6%9C%AC%E5%9C%B0%E6%B5%8B%E8%AF%95.png\" alt=\"本地测试\"></p>\n<p>在博客目录下运行命令行，安装<code>hexo-deployer-git</code>插件。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 安装hexo-deployer-git插件</span></span><br><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/hexo_deployer_git.png\" alt=\"hexo_deployer_git\"></p>\n<p>看到提示有高危漏洞<font color=\"grey\"> <del>，我也不明白怎么处理</del> </font>，按照提示输入<code>npm audit fix --force</code>修复。</p>\n<p>回到GitHub博客项目，点击<code>Code</code>，选择<code>SSH</code>，点击链接右侧图标，将链接复制到剪贴板。</p>\n<p><img src=\"/0eccf52f1ab7/github%E8%B7%AF%E5%BE%84.png\" alt=\"github路径\"></p>\n<p>打开博客根目录下的<code>_config.yml</code>，在deploy下填写配置，将链接粘贴到<code>repository</code>字段。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">  <span class=\"attr\">type:</span> <span class=\"string\">git</span></span><br><span class=\"line\">  <span class=\"attr\">repository:</span> <span class=\"string\">git@github.com:GH1656409967/GH1656409967.github.io.git</span></span><br><span class=\"line\">  <span class=\"attr\">branch:</span> <span class=\"string\">main</span></span><br></pre></td></tr></table></figure>\n\n<blockquote>\n<p>注意，2020年10月1日起，在Github平台上所有新创建的源代码仓库的默认分支被命名为”<font color=\"red\">main</font>“，不再是原先的”master”。</p>\n</blockquote>\n<p>测试Hexo远程部署。如果之前SSH设置了密码，则需要输入密码，看到<code>Deploy done</code>，说明部署成功。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 远程部署（上传到GitHub）</span></span><br><span class=\"line\">hexo deploy</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"/0eccf52f1ab7/hexo_deploy.png\" alt=\"hexo_deploy\"></p>\n<p>打开GitHub博客项目，可以看到代码文件已经更新了。再打开<code>https://username.github.io/</code>，博客内容也同步更新了，与本地<code>http://localhost:4000/</code>访问页面一样。</p>\n<p><img src=\"/0eccf52f1ab7/github%E9%A1%B9%E7%9B%AE%E6%9B%B4%E6%96%B0.png\" alt=\"github项目更新\"></p>\n<p><img src=\"/0eccf52f1ab7/%E6%9F%A5%E7%9C%8B%E5%8D%9A%E5%AE%A2%E7%BD%91%E9%A1%B5.png\" alt=\"查看博客网页\"></p>\n<h2 id=\"3-总结\"><a href=\"#3-总结\" class=\"headerlink\" title=\"3 总结\"></a>3 总结</h2><p>至此，一个基础的独立博客已经搭建完成了, 在Linux和Mac上的配置，也应该类似。Hexo有丰富的插件和社区资源，能提供更多个性化定制，想要添加更多的功能可以参考我的文章<a href=\"%E3%80%90%E9%85%8D%E7%BD%AE%E3%80%91Hexo%E5%8F%8ANexT%E4%B8%BB%E9%A2%98%E7%9A%84%E9%85%8D%E7%BD%AE.html\">【配置】Hexo及NexT主题的配置</a>。</p>\n<p>由于博客源文件是Markdown格式，后续的博客的迁移也不麻烦。在购买了云服务器后，也可以使用nginx等服务替换GitHub Pages服务。</p>\n<blockquote>\n<p>最后，请保证将Pages服务仅用于博客&#x2F;门户&#x2F;开源项目网站&#x2F;开源项目静态效果演示用途，请勿用于违规内容，包括但不仅限于：</p>\n<ul>\n<li>发布诱导分享&#x2F;诱导关注&#x2F;诱导下载&#x2F;诱导跳转内容</li>\n<li>发布欺诈&#x2F;谣言&#x2F;骚扰信息&#x2F;广告信息&#x2F;垃圾信息&#x2F;特殊识别码、口令类信息</li>\n<li>发布低俗内容&#x2F;“宗教性捐献”及相关信息</li>\n<li>发布侵害他人权利&#x2F;违法经营及可疑服务类内容</li>\n<li>发布其它违反国家法律法规的内容</li>\n</ul>\n</blockquote>\n","categories":["配置"],"tags":["Hexo","Pages","Windows"]}]